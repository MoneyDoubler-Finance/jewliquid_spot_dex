const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-D_OQa7dP.js","assets/chunk-DdBifORb.js","assets/chunk-XUcrMwUP.js","assets/chunk-C47o46mc.js"])))=>i.map(i=>d[i]);
import{r as e,j as r,x as a,X as s,p as t,b as n,k as o,S as i,I as l,m as d,i as c,A as p,y as m,z as x,B as u,E as y,H as h,Z as b,M as f,q as g,d as v,c as j,J as N,L as w,W as k,N as S,O as E,Q as C,V as A,Y as L,_ as T,$ as O,R as I,a0 as R,a1 as M,a2 as P,a3 as B}from"./chunk-DoOKHQUE.js";import{m as z,q as D,l as F,r as W,t as _,u as $,w as U,x as K,y as q,s as H,z as Q,e as V,A as Y}from"./chunk-D_OQa7dP.js";import{_ as X,u as G,r as J,s as Z}from"./chunk-DdCQps-o.js";import{K as ee,V as re,b as ae,M as se,P as te,S as ne,L as oe,a as ie}from"./chunk-DdBifORb.js";import{b as le}from"./chunk-C47o46mc.js";import{T as de}from"./chunk-CL8JX1wJ.js";const ce={brand:{name:"JewLiquid",displayName:"JEWLIQUID",altText:"JewLiquid SPOT DEX",domain:"jewliquid.fun",appUrl:"https://spotjewliquid.xyz",docsUrl:"https://jewliquid.fun",githubUrl:"https://github.com/MoneyDoubler-Finance/jewliquid_spot_dex/",githubOrg:"https://github.com/MoneyDoubler-Finance",social:{twitter:"@jewliquid",github:"MoneyDoubler-Finance"},seo:{title:"JewLiquid - SPOT DEX",ogTitle:"JewLiquid - SPOT DEX",description:"Dual citizenship, but for your money. Professional trading tools for Solana DEX.",ogImage:"/src/pumpjewlogofull.png",twitterImage:"/src/pumpjewlogofull.png"},favicon:{baseUrl:"/src/pumpjewlogofull.png",themeColor:"#10B981",tileColor:"#10B981"},api:{key:"9e5df81803be1e58888249911b96c3fb0bad01c2621fab5a54eb5c908313a646"},theme:{name:"green"}}}.brand,pe=e=>e.filter(e=>e.isActive).length,me=(e,r)=>r?"buy":"sell",xe={count:0,lastReset:Date.now(),maxBundlesPerSecond:2},ue=async()=>{const e=Date.now();if(e-xe.lastReset>=1e3&&(xe.count=0,xe.lastReset=e),xe.count>=xe.maxBundlesPerSecond){const r=1e3-(e-xe.lastReset);await new Promise(e=>setTimeout(e,r)),xe.count=0,xe.lastReset=Date.now()}xe.count++},ye=async e=>{try{const r=z();let a="";a="true"===r?.tradingServerEnabled&&r?.tradingServerUrl?r.tradingServerUrl.replace(/\/+$/,""):window.tradingServerUrl?.replace(/\/+$/,"")||"";const s=await fetch(`${a}/api/transactions/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transactions:e})});return(await s.json()).result}catch(r){throw r}},he=async(e,r)=>{try{const a=z();let s="";s="true"===a?.tradingServerEnabled&&a?.tradingServerUrl?a.tradingServerUrl.replace(/\/+$/,""):window.tradingServerUrl?.replace(/\/+$/,"")||"";const t={tokenAddress:r.tokenAddress,protocol:r.protocol,solAmount:r.solAmount};if("true"===a?.tradingServerEnabled?t.walletPrivateKeys=e.map(e=>e.privateKey):t.walletAddresses=e.map(e=>e.address),r.amounts&&(t.amounts=r.amounts),void 0!==r.slippageBps)t.slippageBps=r.slippageBps;else{const e=z();e?.slippageBps&&(t.slippageBps=parseInt(e.slippageBps))}if(void 0!==r.jitoTipLamports)t.jitoTipLamports=r.jitoTipLamports;else{const e=a?.transactionFee||"0.005";t.jitoTipLamports=Math.floor(1e9*parseFloat(e))}const n=D();n&&(t.telegram=n);const o=await fetch(`${s}/api/tokens/buy`,{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":ce.api.key},body:JSON.stringify(t)});if(!o.ok)throw new Error(`HTTP error! Status: ${o.status}`);const i=await o.json();if(!i.success)throw new Error(i.error||"Failed to get partially prepared transactions");if("true"===a?.tradingServerEnabled&&i.data)return[{transactions:[],serverResponse:i.data}];if(i.bundles&&Array.isArray(i.bundles))return i.bundles.map(e=>Array.isArray(e)?{transactions:e}:e);if(i.transactions&&Array.isArray(i.transactions))return[{transactions:i.transactions}];if(i.data&&i.data.transactions&&Array.isArray(i.data.transactions))return[{transactions:i.data.transactions}];if(Array.isArray(i))return[{transactions:i}];throw new Error("No transactions returned from backend")}catch(a){throw a}},be=(e,r)=>{if(!e.transactions||!Array.isArray(e.transactions))return{transactions:[]};return{transactions:e.transactions.map(e=>{try{let a;try{a=le.decode(e)}catch{a=new Uint8Array(Buffer.from(e,"base64"))}const s=re.deserialize(a),t=[];for(const e of s.message.staticAccountKeys){const a=e.toBase58(),s=r.find(e=>e.publicKey.toBase58()===a);s&&!t.includes(s)&&t.push(s)}return s.sign(t),le.encode(s.serialize())}catch(a){throw a}})}},fe=e=>{const r=[];for(const a of e)if(a.transactions&&Array.isArray(a.transactions))if(a.transactions.length<=5)r.push(a);else for(let e=0;e<a.transactions.length;e+=5){const s=a.transactions.slice(e,e+5);r.push({transactions:s})}return r},ge=async(e,r)=>{try{const a=z();let s=r.bundleMode||"batch";switch("true"===a?.tradingServerEnabled&&(s="all-in-one"),s){case"single":return await(async(e,r)=>{const a=r.singleDelay||200;let s=[],t=0,n=0;for(let i=0;i<e.length;i++){const l=e[i];try{const o=await he([l],r);if(0===o.length){n++;continue}const d=ee.fromSecretKey(le.decode(l.privateKey));for(const e of o){const r=be(e,[d]);if(r.transactions.length>0){await ue();const e=await ye(r.transactions);s.push(e)}}t++,i<e.length-1&&await new Promise(e=>setTimeout(e,a))}catch(o){n++}}return{success:t>0,result:s,error:n>0?`${n} wallets failed, ${t} succeeded`:void 0}})(e,r);case"batch":return await(async(e,r)=>{const a=r.batchDelay||1e3;let s=[],t=0,n=0;const o=[];for(let l=0;l<e.length;l+=5)o.push(e.slice(l,l+5));for(let l=0;l<o.length;l++){const e=o[l];try{const i=await he(e,r);if(0===i.length){n++;continue}const d=e.map(e=>ee.fromSecretKey(le.decode(e.privateKey))),c=fe(i).map(e=>be(e,d));for(const e of c)if(e.transactions.length>0){await ue();const r=await ye(e.transactions);s.push(r)}t++,l<o.length-1&&await new Promise(e=>setTimeout(e,a))}catch(i){n++}}return{success:t>0,result:s,error:n>0?`${n} batches failed, ${t} succeeded`:void 0}})(e,r);case"all-in-one":return await(async(e,r)=>{const a=z(),s=await he(e,r);if(0===s.length)return{success:!1,error:"No transactions generated."};if("true"===a?.tradingServerEnabled)return s.length>0&&s[0].serverResponse?{success:!0,result:s[0].serverResponse,error:void 0}:{success:!0,result:s,error:void 0};const t=e.map(e=>ee.fromSecretKey(le.decode(e.privateKey))),n=fe(s).map(e=>be(e,t)).filter(e=>e.transactions.length>0);if(0===n.length)return{success:!1,error:"Failed to sign any transactions"};const o=n.map(async(e,r)=>{await new Promise(e=>setTimeout(e,100*r));try{return{success:!0,result:await ye(e.transactions)}}catch(a){return{success:!1,error:a}}}),i=await Promise.allSettled(o);let l=[],d=0,c=0;return i.forEach((e,r)=>{"fulfilled"===e.status&&e.value.success?(e.value.result&&l.push(e.value.result),d++):c++}),{success:d>0,result:l,error:c>0?`${c} bundles failed, ${d} succeeded`:void 0}})(e,r);default:throw new Error(`Invalid bundle mode: ${s}. Must be 'single', 'batch', or 'all-in-one'`)}}catch(a){return{success:!1,error:a.message}}},ve=e=>({tokenAddress:e.tokenAddress,protocol:e.protocol||"auto",solAmount:e.solAmount,amounts:e.amounts,slippageBps:e.slippageBps,jitoTipLamports:e.jitoTipLamports,bundleMode:e.bundleMode||"batch",batchDelay:e.batchDelay,singleDelay:e.singleDelay}),je={count:0,lastReset:Date.now(),maxBundlesPerSecond:2},Ne=async()=>{const e=Date.now();if(e-je.lastReset>=1e3&&(je.count=0,je.lastReset=e),je.count>=je.maxBundlesPerSecond){const r=1e3-(e-je.lastReset);await new Promise(e=>setTimeout(e,r)),je.count=0,je.lastReset=Date.now()}je.count++},we=async e=>{try{const r=z();let a="";a="true"===r?.tradingServerEnabled&&r?.tradingServerUrl?r.tradingServerUrl.replace(/\/+$/,""):window.tradingServerUrl?.replace(/\/+$/,"")||"";const s=await fetch(`${a}/api/transactions/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transactions:e})});return(await s.json()).result}catch(r){throw r}},ke=async(e,r)=>{try{const a=z();let s="";s="true"===a?.tradingServerEnabled&&a?.tradingServerUrl?a.tradingServerUrl.replace(/\/+$/,""):window.tradingServerUrl?.replace(/\/+$/,"")||"";const t={tokenAddress:r.tokenAddress,protocol:r.protocol};if("true"===a?.tradingServerEnabled?t.walletPrivateKeys=e.map(e=>e.privateKey):t.walletAddresses=e.map(e=>e.address),void 0!==r.tokensAmount?t.tokensAmount=r.tokensAmount:t.percentage=r.sellPercent,void 0!==r.jitoTipLamports)t.jitoTipLamports=r.jitoTipLamports;else{const e=a?.transactionFee||"0.005";t.jitoTipLamports=Math.floor(1e9*parseFloat(e))}if(void 0!==r.slippageBps)t.slippageBps=r.slippageBps;else{const e=z();e?.slippageBps&&(t.slippageBps=parseInt(e.slippageBps))}"auto"===r.protocol&&r.outputMint&&(t.outputMint=r.outputMint);const n=D();n&&(t.telegram=n);const o=await fetch(`${s}/api/tokens/sell`,{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":ce.api.key},body:JSON.stringify(t)});if(!o.ok)throw new Error(`HTTP error! Status: ${o.status}`);const i=await o.json();if(!i.success)throw new Error(i.error||"Failed to get partially prepared transactions");if("true"===a?.tradingServerEnabled&&i.data)return[{transactions:[],serverResponse:i}];if(i.bundles&&Array.isArray(i.bundles))return i.bundles.map(e=>Array.isArray(e)?{transactions:e}:e);if(i.transactions&&Array.isArray(i.transactions))return[{transactions:i.transactions}];if(Array.isArray(i))return[{transactions:i}];throw new Error("No transactions returned from backend")}catch(a){throw a}},Se=(e,r)=>{if(!e.transactions||!Array.isArray(e.transactions))return{transactions:[]};return{transactions:e.transactions.map(e=>{if(!e)return null;try{const a=le.decode(e),s=re.deserialize(a),t=[];for(const e of s.message.staticAccountKeys){const a=e.toBase58(),s=r.find(e=>e.publicKey.toBase58()===a);s&&!t.includes(s)&&t.push(s)}return 0===t.length?null:(s.sign(t),le.encode(s.serialize()))}catch(a){return null}}).filter(e=>null!==e)}},Ee=e=>{const r=[];for(const a of e)if(a.transactions&&Array.isArray(a.transactions))if(a.transactions.length<=5)r.push(a);else for(let e=0;e<a.transactions.length;e+=5){const s=a.transactions.slice(e,e+5);r.push({transactions:s})}return r},Ce=async(e,r)=>{try{const a=z();let s=r.bundleMode||"batch";switch("true"===a?.tradingServerEnabled&&(s="all-in-one"),s){case"single":return await(async(e,r)=>{let a=[],s=0,t=0;for(let o=0;o<e.length;o++){const i=e[o];try{const n=await ke([i],r);if(0===n.length){t++;continue}const l=ee.fromSecretKey(le.decode(i.privateKey));for(const e of n){const r=Se(e,[l]);if(r.transactions.length>0){await Ne();const e=await we(r.transactions);a.push(e)}}s++,o<e.length-1&&await new Promise(e=>setTimeout(e,r.singleDelay||200))}catch(n){t++}}return{success:s>0,result:a,error:t>0?`${t} wallets failed, ${s} succeeded`:void 0}})(e,r);case"batch":return await(async(e,r)=>{const a=r.batchDelay||1e3;let s=[],t=0,n=0;const o=[];for(let l=0;l<e.length;l+=5)o.push(e.slice(l,l+5));for(let l=0;l<o.length;l++){const e=o[l];try{const i=await ke(e,r);if(0===i.length){n++;continue}const d=e.map(e=>ee.fromSecretKey(le.decode(e.privateKey))),c=Ee(i).map(e=>Se(e,d));for(const e of c)if(e.transactions.length>0){await Ne();const r=await we(e.transactions);s.push(r)}t++,l<o.length-1&&await new Promise(e=>setTimeout(e,a))}catch(i){n++}}return{success:t>0,result:s,error:n>0?`${n} batches failed, ${t} succeeded`:void 0}})(e,r);case"all-in-one":return await(async(e,r)=>{const a=z(),s=await ke(e,r);if("true"===a?.tradingServerEnabled){if(s.length>0&&s[0].serverResponse){const e=s[0].serverResponse;return{success:e.success,result:e.data,error:e.success?void 0:e.error}}return{success:!1,error:"No response received from self-hosted server"}}if(0===s.length)return{success:!1,error:"No transactions generated. Wallets might not have sufficient token balance."};const t=e.map(e=>ee.fromSecretKey(le.decode(e.privateKey))),n=Ee(s).map(e=>Se(e,t)).filter(e=>e.transactions.length>0);if(0===n.length)return{success:!1,error:"Failed to sign any transactions"};const o=n.map(async(e,r)=>{await new Promise(e=>setTimeout(e,100*r));try{return{success:!0,result:await we(e.transactions)}}catch(a){return{success:!1,error:a}}}),i=await Promise.allSettled(o);let l=[],d=0,c=0;return i.forEach((e,r)=>{"fulfilled"===e.status&&e.value.success?(e.value.result&&l.push(e.value.result),d++):c++}),{success:d>0,result:l,error:c>0?`${c} bundles failed, ${d} succeeded`:void 0}})(e,r);default:throw new Error(`Invalid bundle mode: ${s}. Must be 'single', 'batch', or 'all-in-one'`)}}catch(a){return{success:!1,error:a.message||"Unknown error executing sell"}}},Ae=e=>({tokenAddress:e.tokenAddress,protocol:e.protocol||"auto",sellPercent:e.sellPercent||0,tokensAmount:e.tokensAmount,slippageBps:e.slippageBps,outputMint:e.outputMint,jitoTipLamports:e.jitoTipLamports,bundleMode:e.bundleMode||"batch",batchDelay:e.batchDelay,singleDelay:e.singleDelay}),Le=async(e,r,a,s,t)=>{const n=r.filter(e=>e.isActive);if(0===n.length)return{success:!1,error:"Please activate at least one wallet"};const o=n.map(e=>({address:e.address,privateKey:e.privateKey})),i=new Map;n.forEach(e=>{const r=t.get(e.address)||0;i.set(e.address,r)});try{return s?await(async(e,r,a,s,t)=>{try{const{loadConfigFromCookies:n}=await X(async()=>{const{loadConfigFromCookies:e}=await import("./chunk-D_OQa7dP.js").then(e=>e.U);return{loadConfigFromCookies:e}},__vite__mapDeps([0,1,2,3])),o=n();let i=s;void 0===i&&o?.slippageBps&&(i=parseInt(o.slippageBps));let l=t;if(void 0===l&&o?.transactionFee){const e=o.transactionFee;l=Math.floor(1e9*parseFloat(e))}let d=r.bundleMode;void 0===d&&o?.bundleMode&&(d=o.bundleMode);let c=r.batchDelay;void 0===c&&o?.batchDelay&&(c=parseInt(o.batchDelay));let p=r.singleDelay;void 0===p&&o?.singleDelay&&(p=parseInt(o.singleDelay));const m=ve({tokenAddress:r.tokenAddress,protocol:a,solAmount:r.solAmount,slippageBps:i,jitoTipLamports:l,bundleMode:d,batchDelay:c,singleDelay:p});return await ge(e,m)}catch(n){return{success:!1,error:n.message}}})(o,a,"auto"):await(async(e,r,a,s,t,n)=>{try{const{loadConfigFromCookies:o}=await X(async()=>{const{loadConfigFromCookies:e}=await import("./chunk-D_OQa7dP.js").then(e=>e.U);return{loadConfigFromCookies:e}},__vite__mapDeps([0,1,2,3])),i=o();let l=s;void 0===l&&i?.slippageBps&&(l=parseInt(i.slippageBps));let d=n;if(void 0===d&&i?.transactionFee){const e=i.transactionFee;d=Math.floor(1e9*parseFloat(e))}let c=r.bundleMode;void 0===c&&i?.bundleMode&&(c=i.bundleMode);let p=r.batchDelay;void 0===p&&i?.batchDelay&&(p=parseInt(i.batchDelay));let m=r.singleDelay;void 0===m&&i?.singleDelay&&(m=parseInt(i.singleDelay));const x=Ae({tokenAddress:r.tokenAddress,protocol:a,sellPercent:r.sellPercent,tokensAmount:r.tokensAmount,slippageBps:l,outputMint:t,jitoTipLamports:d,bundleMode:c,batchDelay:p,singleDelay:m});return await Ce(e,x)}catch(o){return{success:!1,error:o.message}}})(o,a,"auto")}catch(l){return{success:!1,error:l.message}}},Te=Object.freeze(Object.defineProperty({__proto__:null,executeTrade:Le},Symbol.toStringTag,{value:"Module"})),Oe=({isOpen:c,onClose:p,wallets:m,solBalances:x})=>{const[u,y]=e.useState(0),[h,b]=e.useState(!1),[f,g]=e.useState(!1),{showToast:v}=G(),[j,N]=e.useState([]),[w,k]=e.useState(""),[S,E]=e.useState(""),[C,A]=e.useState(!1),[L,T]=e.useState([]),[O,I]=e.useState(""),[R,M]=e.useState(""),[P,B]=e.useState(!1),[z,D]=e.useState("address"),[$,U]=e.useState("asc"),[K,q]=e.useState("all"),H=e=>x.has(e)?x.get(e):0,Q=()=>!!C&&L.some(e=>j.includes(e.address)&&(!e.amount||0===parseFloat(e.amount))),V=C?L.reduce((e,r)=>e+(parseFloat(r.amount)||0),0):parseFloat(S||"0")*j.length,Y=H(w)||0,X=V<=Y;e.useEffect(()=>{c&&se()},[c]),e.useEffect(()=>{ae()},[j]),e.useEffect(()=>{ae()},[C,S]);const Z=e=>e.toFixed(4),ee=e=>m.find(r=>r.address===e),re=e=>{const r=ee(e);return r?r.privateKey:""},ae=()=>{if(C){const e=new Map(L.map(e=>[e.address,e.amount])),r=j.map(r=>({address:r,amount:e.get(r)||S||""}));T(r)}else{const e=j.map(e=>({address:e,amount:S}));T(e)}},se=()=>{y(0),g(!1),N([]),k(""),E(""),A(!1),T([]),I(""),M(""),D("address"),U("asc"),q("all")},te=e=>{N(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},ne=()=>m.filter(e=>e.address!==w),oe=()=>m.filter(e=>!j.includes(e.address)&&(H(e.address)||0)>0),ie=(e,r)=>{let a=e;return r&&(a=a.filter(e=>e.address.toLowerCase().includes(r.toLowerCase()))),"all"!==K&&("nonZero"===K?a=a.filter(e=>(H(e.address)||0)>0):"highBalance"===K?a=a.filter(e=>(H(e.address)||0)>=.1):"lowBalance"===K&&(a=a.filter(e=>(H(e.address)||0)<.1&&(H(e.address)||0)>0))),a.sort((e,r)=>{if("address"===z)return"asc"===$?e.address.localeCompare(r.address):r.address.localeCompare(e.address);if("balance"===z){const a=H(e.address)||0,s=H(r.address)||0;return"asc"===$?a-s:s-a}return 0})},le=e=>{const r=L.find(r=>r.address===e);return r?r.amount:""};if(!c)return null;const de=document.createElement("style");return de.textContent='\n    @keyframes modal-pulse {\n      0% { box-shadow: 0 0 5px var(--color-primary-50), 0 0 15px var(--color-primary-20); }\n      50% { box-shadow: 0 0 15px var(--color-primary-80), 0 0 25px var(--color-primary-40); }\n      100% { box-shadow: 0 0 5px var(--color-primary-50), 0 0 15px var(--color-primary-20); }\n    }\n    \n    @keyframes modal-fade-in {\n      0% { opacity: 0; }\n      100% { opacity: 1; }\n    }\n    \n    @keyframes modal-slide-up {\n      0% { transform: translateY(20px); opacity: 0; }\n      100% { transform: translateY(0); opacity: 1; }\n    }\n    \n    @keyframes modal-scan-line {\n      0% { transform: translateY(-100%); opacity: 0.3; }\n      100% { transform: translateY(100%); opacity: 0; }\n    }\n    \n    .modal-cyberpunk-container {\n      animation: modal-fade-in 0.3s ease;\n    }\n    \n    .modal-cyberpunk-content {\n      animation: modal-slide-up 0.4s ease;\n      position: relative;\n    }\n    \n    .modal-cyberpunk-content::before {\n      content: "";\n      position: absolute;\n      width: 100%;\n      height: 5px;\n      background: linear-gradient(to bottom, \n        transparent 0%,\n        var(--color-primary-20) 50%,\n        transparent 100%);\n      z-index: 10;\n      animation: modal-scan-line 8s linear infinite;\n      pointer-events: none;\n    }\n    \n    .modal-glow {\n      animation: modal-pulse 4s infinite;\n    }\n    \n    .modal-input-cyberpunk:focus {\n      box-shadow: 0 0 0 1px var(--color-primary-70), 0 0 15px var(--color-primary-50);\n      transition: all 0.3s ease;\n    }\n    \n    .modal-btn-cyberpunk {\n      position: relative;\n      overflow: hidden;\n      transition: all 0.3s ease;\n    }\n    \n    .modal-btn-cyberpunk::after {\n      content: "";\n      position: absolute;\n      top: -50%;\n      left: -50%;\n      width: 200%;\n      height: 200%;\n      background: linear-gradient(\n        to bottom right,\n        transparent 0%,\n        var(--color-primary-30) 50%,\n        transparent 100%\n      );\n      transform: rotate(45deg);\n      transition: all 0.5s ease;\n      opacity: 0;\n    }\n    \n    .modal-btn-cyberpunk:hover::after {\n      opacity: 1;\n      transform: rotate(45deg) translate(50%, 50%);\n    }\n    \n    .modal-btn-cyberpunk:active {\n      transform: scale(0.95);\n    }\n    \n    .progress-bar-cyberpunk {\n      position: relative;\n      overflow: hidden;\n    }\n    \n    .progress-bar-cyberpunk::after {\n      content: "";\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: linear-gradient(\n        90deg,\n        transparent 0%,\n        var(--color-primary-70) 50%,\n        transparent 100%\n      );\n      width: 100%;\n      height: 100%;\n      transform: translateX(-100%);\n      animation: progress-shine 3s infinite;\n    }\n    \n    @keyframes progress-shine {\n      0% { transform: translateX(-100%); }\n      20% { transform: translateX(100%); }\n      100% { transform: translateX(100%); }\n    }\n    \n    .glitch-text:hover {\n      text-shadow: 0 0 2px var(--color-primary), 0 0 4px var(--color-primary);\n      animation: glitch 2s infinite;\n    }\n    \n    @keyframes glitch {\n      2%, 8% { transform: translate(-2px, 0) skew(0.3deg); }\n      4%, 6% { transform: translate(2px, 0) skew(-0.3deg); }\n      62%, 68% { transform: translate(0, 0) skew(0.33deg); }\n      64%, 66% { transform: translate(0, 0) skew(-0.33deg); }\n    }\n\n    /* Responsive styles */\n    @media (max-width: 1024px) {\n      .modal-flex-col-lg {\n        flex-direction: column;\n      }\n      .modal-w-full-lg {\n        width: 100%;\n      }\n      .modal-mt-4-lg {\n        margin-top: 1rem;\n      }\n    }\n    \n    @media (max-width: 768px) {\n      .modal-flex-col-md {\n        flex-direction: column;\n      }\n      .modal-w-full-md {\n        width: 100%;\n      }\n      .modal-mt-4-md {\n        margin-top: 1rem;\n      }\n    }\n    \n    @media (max-width: 640px) {\n      .modal-text-xs-sm {\n        font-size: 0.75rem;\n      }\n      .modal-p-3-sm {\n        padding: 0.75rem;\n      }\n      .modal-mx-1-sm {\n        margin-left: 0.25rem;\n        margin-right: 0.25rem;\n      }\n    }\n  ',document.head.appendChild(de),J.createPortal(r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm modal-cyberpunk-container bg-app-primary-85",children:r.jsxs("div",{className:"relative bg-app-primary border border-app-primary-40 rounded-lg shadow-lg w-full max-w-6xl overflow-hidden transform modal-cyberpunk-content modal-glow",children:[r.jsx("div",{className:"absolute inset-0 z-0 opacity-10 bg-cyberpunk-grid"}),r.jsxs("div",{className:"relative z-10 p-4 flex justify-between items-center border-b border-app-primary-40",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-primary-20 mr-3",children:r.jsx(a,{size:16,className:"color-primary"})}),r.jsxs("h2",{className:"text-lg font-semibold text-app-primary font-mono",children:[r.jsx("span",{className:"color-primary",children:"/"})," DISTRIBUTE SOL ",r.jsx("span",{className:"color-primary",children:"/"})]})]}),r.jsx("button",{onClick:p,className:"text-app-secondary hover-color-primary-light transition-colors p-1 hover:bg-primary-20 rounded",children:r.jsx(s,{size:18})})]}),r.jsx("div",{className:"relative w-full h-1 bg-app-tertiary progress-bar-cyberpunk",children:r.jsx("div",{className:"h-full bg-app-primary-color transition-all duration-300",style:{width:0===u?"50%":"100%"}})}),r.jsxs("div",{className:"relative z-10 p-4 space-y-4",children:[0===u&&r.jsxs("div",{className:"animate-[fadeIn_0.3s_ease]",children:[r.jsxs("div",{className:"flex space-x-4 modal-flex-col-lg",children:[r.jsxs("div",{className:"w-1/2 modal-w-full-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-app-secondary font-mono uppercase tracking-wider",children:[r.jsx("span",{className:"color-primary",children:">"})," From Wallet ",r.jsx("span",{className:"color-primary",children:"<"})]}),w&&r.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[r.jsx(t,{size:10,className:"text-app-secondary"}),r.jsxs("span",{className:"color-primary font-medium font-mono",children:[Z(Y)," SOL"]})]})]}),r.jsxs("div",{className:"mb-2 flex space-x-2",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(n,{size:14,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-app-secondary"}),r.jsx("input",{type:"text",value:R,onChange:e=>M(e.target.value),className:"w-full pl-9 pr-4 py-2 bg-app-tertiary border border-app-primary-30 rounded-lg text-sm text-app-primary focus:outline-none focus-border-primary transition-all modal-input-cyberpunk font-mono",placeholder:"SEARCH SENDER WALLETS..."})]}),r.jsxs("select",{className:"bg-app-tertiary border border-app-primary-30 rounded-lg px-2 text-sm text-app-primary focus:outline-none focus-border-primary modal-input-cyberpunk font-mono",value:z,onChange:e=>D(e.target.value),children:[r.jsx("option",{value:"address",children:"ADDRESS"}),r.jsx("option",{value:"balance",children:"BALANCE"})]}),r.jsx("button",{className:"p-2 bg-app-tertiary border border-app-primary-30 rounded-lg text-app-secondary hover-color-primary-light hover-border-primary transition-all modal-btn-cyberpunk",onClick:()=>U("asc"===$?"desc":"asc"),children:"asc"===$?"↑":"↓"})]}),r.jsx("div",{className:"max-h-48 overflow-y-auto border border-app-primary-20 rounded-lg shadow-inner bg-app-tertiary transition-all duration-200 hover-border-primary-40 scrollbar-thin",children:ie(oe(),R).length>0?ie(oe(),R).map(e=>r.jsxs("div",{className:"flex items-center p-2.5 hover-bg-secondary cursor-pointer transition-all duration-200 border-b border-app-primary-20 last:border-b-0\n                                    "+(w===e.address?"bg-primary-10 border-app-primary-30":""),onClick:()=>k(e.address),children:[r.jsx("div",{className:"w-5 h-5 mr-3 rounded flex items-center justify-center transition-all duration-300\n                                          "+(w===e.address?"bg-app-primary-color shadow-app-primary-40":"border border-app-primary-30 bg-app-tertiary"),children:w===e.address&&r.jsx(o,{size:14,className:"text-app-primary animate-[fadeIn_0.2s_ease]"})}),r.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[r.jsx("span",{className:"font-mono text-sm text-app-primary glitch-text",children:F(e)}),r.jsxs("span",{className:"text-xs text-app-secondary font-mono",children:[Z(H(e.address)||0)," SOL"]})]})]},e.id)):r.jsx("div",{className:"p-3 text-sm text-app-secondary text-center font-mono",children:R?"NO WALLETS FOUND":"NO WALLETS AVAILABLE"})})]}),r.jsxs("div",{className:"w-1/2 modal-w-full-lg modal-mt-4-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-app-secondary font-mono uppercase tracking-wider",children:[r.jsx("span",{className:"color-primary",children:">"})," To Wallets ",r.jsx("span",{className:"color-primary",children:"<"})]}),r.jsx("button",{onClick:()=>{j.length===ne().length?N([]):N(ne().map(e=>e.address))},className:"text-xs px-2 py-0.5 bg-app-tertiary hover-bg-secondary text-app-secondary hover-color-primary-light rounded border border-app-primary-30 hover-border-primary transition-all duration-200 font-mono",children:j.length===ne().length?"DESELECT ALL":"SELECT ALL"})]}),r.jsxs("div",{className:"mb-2 flex space-x-2",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(n,{size:14,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-app-secondary"}),r.jsx("input",{type:"text",value:O,onChange:e=>I(e.target.value),className:"w-full pl-9 pr-4 py-2 bg-app-tertiary border border-app-primary-30 rounded-lg text-sm text-app-primary focus:outline-none focus-border-primary transition-all modal-input-cyberpunk font-mono",placeholder:"SEARCH RECIPIENT WALLETS..."})]}),r.jsxs("select",{className:"bg-app-tertiary border border-app-primary-30 rounded-lg px-2 text-sm text-app-primary focus:outline-none focus-border-primary modal-input-cyberpunk font-mono",value:K,onChange:e=>q(e.target.value),children:[r.jsx("option",{value:"all",children:"ALL"}),r.jsx("option",{value:"nonZero",children:"NON-ZERO"}),r.jsx("option",{value:"highBalance",children:"HIGH BAL"}),r.jsx("option",{value:"lowBalance",children:"LOW BAL"})]})]}),r.jsx("div",{className:"max-h-48 overflow-y-auto border border-app-primary-20 rounded-lg shadow-inner bg-app-tertiary transition-all duration-200 hover-border-primary-40 scrollbar-thin",children:ie(ne(),O).length>0?ie(ne(),O).map(e=>r.jsxs("div",{className:"flex items-center p-2.5 hover-bg-secondary transition-all duration-200 border-b border-app-primary-20 last:border-b-0\n                                    "+(j.includes(e.address)?"bg-primary-10 border-app-primary-30":""),children:[r.jsx("div",{className:"w-5 h-5 mr-3 rounded flex items-center justify-center transition-all duration-300 cursor-pointer\n                                        "+(j.includes(e.address)?"bg-app-primary-color shadow-app-primary-40":"border border-app-primary-30 bg-app-tertiary"),onClick:()=>te(e.address),children:j.includes(e.address)&&r.jsx(o,{size:14,className:"text-app-primary animate-[fadeIn_0.2s_ease]"})}),r.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[r.jsx("span",{className:"font-mono text-sm text-app-primary cursor-pointer glitch-text",onClick:()=>te(e.address),children:F(e)}),C&&j.includes(e.address)?r.jsxs("div",{className:"relative w-24 ml-2",children:[r.jsx(t,{size:12,className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-app-secondary"}),r.jsx("input",{type:"text",value:le(e.address),onClick:e=>e.stopPropagation(),onChange:r=>{r.stopPropagation();const a=r.target.value;(""===a||/^\d*\.?\d*$/.test(a))&&((e,r)=>{(""===r||/^\d*\.?\d*$/.test(r))&&T(a=>a.map(a=>a.address===e?{...a,amount:r}:a))})(e.address,a)},className:"w-full pl-6 pr-2 py-1 bg-app-secondary border border-app-primary-30 rounded text-xs text-app-primary focus:outline-none focus-border-primary modal-input-cyberpunk font-mono",placeholder:"0.00"})]}):r.jsxs("span",{className:"text-xs text-app-secondary font-mono",children:[Z(H(e.address)||0)," SOL"]})]})]},e.id)):r.jsx("div",{className:"p-3 text-sm text-app-secondary text-center font-mono",children:O?"NO WALLETS FOUND":"NO WALLETS AVAILABLE"})}),r.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs",children:[r.jsxs("span",{className:"text-app-secondary font-mono",children:["SELECTED: ",r.jsx("span",{className:"color-primary font-medium",children:j.length})," WALLETS"]}),j.length>0&&S&&!C&&r.jsxs("span",{className:"text-app-secondary font-mono",children:["EACH RECEIVES: ",r.jsxs("span",{className:"color-primary font-medium",children:[S," SOL"]})]})]})]})]}),r.jsxs("div",{className:"w-full mx-auto mt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2 max-w-md mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(i,{size:14,className:"text-app-secondary"}),r.jsx("span",{className:"text-sm font-medium text-app-secondary font-mono uppercase tracking-wider",children:"Amount Settings"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-xs text-app-secondary mr-2 font-mono",children:"CUSTOM AMOUNT PER WALLET"}),r.jsx("div",{onClick:()=>A(!C),className:"w-10 h-5 rounded-full cursor-pointer transition-all duration-200 flex items-center "+(C?"bg-app-primary-color":"bg-app-tertiary border border-app-primary-30"),children:r.jsx("div",{className:"w-4 h-4 rounded-full bg-app-primary transform transition-all duration-200 "+(C?"translate-x-5":"translate-x-1")})})]})]}),!C&&r.jsxs("div",{className:"flex items-start space-x-4 modal-flex-col-md",children:[r.jsxs("div",{className:"w-1/2 modal-w-full-md",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs("label",{className:"text-sm font-medium text-app-secondary font-mono uppercase tracking-wider",children:[r.jsx("span",{className:"color-primary",children:">"})," Amount per Wallet ",r.jsx("span",{className:"color-primary",children:"<"})]}),r.jsxs("div",{className:"relative",onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1),children:[r.jsx(l,{size:14,className:"text-app-secondary cursor-help"}),P&&r.jsx("div",{className:"absolute left-0 bottom-full mb-2 p-2 bg-app-tertiary border border-app-primary-30 rounded shadow-lg text-xs text-app-primary w-48 z-10 font-mono",children:"This amount will be sent to each selected recipient wallet"})]})]})}),r.jsxs("div",{className:"relative",children:[r.jsx(t,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-app-secondary"}),r.jsx("input",{type:"text",value:S,onChange:e=>{const r=e.target.value;(""===r||/^\d*\.?\d*$/.test(r))&&E(r)},className:"w-full pl-9 pr-4 py-2.5 bg-app-tertiary border rounded-lg text-app-primary focus:outline-none transition-all duration-200 modal-input-cyberpunk font-mono\n                                    "+(X?"border-app-primary-30 focus-border-primary":"border-error-alt"),placeholder:"0.001"})]})]}),w&&S&&j.length>0&&r.jsxs("div",{className:"w-1/2 bg-app-tertiary rounded-lg p-3 border border-app-primary-30 modal-w-full-md modal-mt-4-md",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"TOTAL TO SEND:"}),r.jsxs("span",{className:"text-sm font-semibold font-mono "+(X?"color-primary":"text-error-alt"),children:[V.toFixed(4)," SOL"]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"REMAINING BALANCE:"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[(Y-V).toFixed(4)," SOL"]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"EACH WALLET RECEIVES:"}),r.jsxs("span",{className:"text-sm color-primary font-mono",children:[S," SOL"]})]})]})]}),C&&j.length>0&&r.jsxs("div",{className:"flex items-start space-x-4 mt-2 modal-flex-col-md",children:[r.jsx("div",{className:"flex-grow modal-w-full-md",children:r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(t,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-app-secondary"}),r.jsx("input",{type:"text",value:S,onChange:e=>{const r=e.target.value;(""===r||/^\d*\.?\d*$/.test(r))&&E(r)},className:"w-full pl-9 pr-4 py-2 bg-app-tertiary border border-app-primary-30 rounded-lg text-sm text-app-primary focus:outline-none focus-border-primary transition-all modal-input-cyberpunk font-mono",placeholder:"SET COMMON AMOUNT"})]}),r.jsx("button",{onClick:()=>{T(e=>e.map(e=>({...e,amount:S})))},disabled:!S,className:"whitespace-nowrap px-3 py-2 text-sm rounded-lg transition-all font-mono border\n                                    "+(S?"bg-app-tertiary hover-bg-secondary text-app-primary border-app-primary-30 hover-border-primary modal-btn-cyberpunk":"bg-app-tertiary text-app-secondary-40 border-app-primary-20 cursor-not-allowed"),children:"APPLY TO ALL"})]})}),w&&V>0&&r.jsxs("div",{className:"w-2/5 bg-app-tertiary rounded-lg p-3 border border-app-primary-30 modal-w-full-md modal-mt-4-md",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"TOTAL TO SEND:"}),r.jsxs("span",{className:"text-sm font-semibold font-mono "+(X?"color-primary":"text-error-alt"),children:[V.toFixed(4)," SOL"]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"REMAINING BALANCE:"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[(Y-V).toFixed(4)," SOL"]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"RECIPIENTS:"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[j.length," WALLETS"]})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:p,className:"px-5 py-2.5 text-app-primary bg-app-tertiary border border-app-primary-30 hover-bg-secondary hover-border-primary rounded-lg transition-all duration-200 shadow-md font-mono tracking-wider modal-btn-cyberpunk",children:"CANCEL"}),r.jsxs("button",{onClick:()=>y(1),disabled:!w||0===j.length||!X||C&&(0===V||Q())||!C&&!S,className:"px-5 py-2.5 rounded-lg shadow-lg flex items-center transition-all duration-300 font-mono tracking-wider text-app-primary\n                            "+(!w||0===j.length||!X||C&&(0===V||Q())||!C&&!S?"bg-primary-50 cursor-not-allowed opacity-50":"bg-app-primary-color hover:bg-primary-dark transform hover:-translate-y-0.5 modal-btn-cyberpunk"),children:[Q()&&r.jsx("span",{className:"text-xs mr-2 bg-error-20 text-error-alt px-2 py-0.5 rounded font-mono",children:"MISSING AMOUNTS"}),r.jsx("span",{children:"REVIEW"}),r.jsx(d,{size:16,className:"ml-1"})]})]})]}),1===u&&r.jsxs("div",{className:"flex space-x-4 modal-flex-col-lg animate-[fadeIn_0.3s_ease]",children:[r.jsxs("div",{className:"w-1/2 space-y-4 modal-w-full-lg",children:[r.jsxs("div",{className:"bg-app-tertiary rounded-lg p-4 border border-app-primary-30",children:[r.jsx("h3",{className:"text-base font-semibold text-app-primary mb-3 font-mono tracking-wider",children:"DISTRIBUTION SUMMARY"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"FROM WALLET:"}),r.jsx("div",{className:"flex items-center bg-app-secondary px-2 py-1 rounded border border-app-primary-20",children:r.jsx("span",{className:"text-sm font-mono text-app-primary glitch-text",children:ee(w)?F(ee(w)):(ce=w,`${ce.substring(0,6)}...${ce.substring(ce.length-4)}`)})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"WALLET BALANCE:"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[Z(Y)," SOL"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"RECIPIENTS:"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[j.length," WALLETS"]})]}),!C&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"AMOUNT PER WALLET:"}),r.jsxs("span",{className:"text-sm color-primary font-medium font-mono",children:[S," SOL"]})]}),C&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"CUSTOM AMOUNTS:"}),r.jsx("span",{className:"text-sm color-primary font-medium font-mono",children:"YES"})]}),r.jsxs("div",{className:"pt-2 border-t border-app-primary-20 flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-app-secondary font-mono",children:"TOTAL TO SEND:"}),r.jsxs("span",{className:"text-sm font-semibold color-primary font-mono",children:[V.toFixed(4)," SOL"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"REMAINING BALANCE:"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[(Y-V).toFixed(4)," SOL"]})]})]})]}),r.jsx("div",{className:"flex items-center px-3 py-3 bg-app-tertiary rounded-lg border border-app-primary-30",children:r.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>g(!f),children:[r.jsxs("div",{className:"relative mx-1",children:[r.jsx("div",{className:"w-5 h-5 border border-app-primary-40 rounded transition-all cursor-pointer",style:{backgroundColor:f?"var(--color-primary)":"transparent",borderColor:f?"var(--color-primary)":"var(--color-primary-40)"}}),r.jsx(o,{size:14,className:"absolute top-0.5 left-0.5 text-app-primary transition-all "+(f?"opacity-100":"opacity-0")})]}),r.jsx("span",{className:"text-app-primary text-sm ml-2 cursor-pointer select-none font-mono",children:"I CONFIRM THIS DISTRIBUTION OPERATION"})]})})]}),r.jsx("div",{className:"w-1/2 modal-w-full-lg modal-mt-4-lg",children:r.jsxs("div",{className:"bg-app-tertiary rounded-lg p-4 border border-app-primary-30 h-full",children:[r.jsx("h3",{className:"text-base font-semibold text-app-primary mb-3 font-mono tracking-wider",children:"SELECTED RECIPIENTS"}),r.jsx("div",{className:"max-h-64 overflow-y-auto pr-1 scrollbar-thin",children:j.length>0?j.map((e,a)=>{const s=ee(e),t=C?le(e):S;return s?r.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-app-primary-20 last:border-b-0",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("span",{className:"text-app-secondary text-xs mr-2 w-6 font-mono",children:[a+1,"."]}),r.jsx("span",{className:"font-mono text-sm text-app-primary glitch-text",children:F(s)})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs("span",{className:"text-xs text-app-secondary mr-2 font-mono",children:["CURRENT: ",Z(H(s.address)||0)," SOL"]}),r.jsxs("span",{className:"text-xs color-primary font-mono",children:["+",t," SOL"]})]})]},s.id):null}):r.jsx("div",{className:"p-3 text-sm text-app-secondary text-center font-mono",children:"NO RECIPIENTS SELECTED"})})]})})]}),1===u&&r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:()=>y(0),className:"px-5 py-2.5 text-app-primary bg-app-tertiary border border-app-primary-30 hover-bg-secondary hover-border-primary rounded-lg transition-all duration-200 shadow-md font-mono tracking-wider modal-btn-cyberpunk",children:"BACK"}),r.jsx("button",{onClick:async e=>{if(e.preventDefault(),f){b(!0);try{const e=re(w);if(!e)return v("Sender wallet private key not found","error"),void b(!1);const r={address:w,privateKey:e,amount:"0"},a=L.filter(e=>j.includes(e.address)).map(e=>({address:e.address,privateKey:re(e.address),amount:e.amount})).filter(e=>e.privateKey&&e.amount),s=W(r,a,Y);if(!s.valid)return v(s.error||"Invalid distribution data","error"),void b(!1);const t=await _(r,a);t.success?(v("SOL distributed successfully","success"),se(),p()):v(t.error||"Distribution failed","error")}catch(r){v("Distribution failed: "+(r.message||"Unknown error"),"error")}finally{b(!1)}}},disabled:!f||h,className:"px-5 py-2.5 text-app-primary rounded-lg shadow-lg flex items-center transition-all duration-300 font-mono tracking-wider \n                          "+(!f||h?"bg-primary-50 cursor-not-allowed opacity-50":"bg-app-primary-color hover:bg-primary-dark transform hover:-translate-y-0.5 modal-btn-cyberpunk"),children:h?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-app-primary-80 border-t-transparent animate-spin mr-2"}),"PROCESSING..."]}):"DISTRIBUTE SOL"})]})]}),r.jsx("div",{className:"absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2 border-app-primary opacity-70"})]})}),document.body);var ce},Ie=({isOpen:a,onClose:i,wallets:p,solBalances:m})=>{const[x,u]=e.useState(0),[y,h]=e.useState(!1),[b,f]=e.useState(!1),{showToast:g}=G(),[v,j]=e.useState([]),[N,w]=e.useState(""),[k,S]=e.useState(""),[E,C]=e.useState(""),[A,L]=e.useState(""),[T,O]=e.useState(!1),[I,R]=e.useState("address"),[M,P]=e.useState("asc"),[B,z]=e.useState("all");e.useEffect(()=>{a&&H()},[a]);const D=e=>e.toFixed(4),W=e=>`${e.substring(0,6)}...${e.substring(e.length-4)}`,_=e=>m.has(e)?m.get(e)??0:0,K=e=>p.find(r=>r.address===e),q=e=>{const r=K(e);return r?r.privateKey:""},H=()=>{u(0),f(!1),w(""),j([]),S(""),C(""),L(""),R("address"),P("asc"),z("all")},Q=()=>v.reduce((e,r)=>e+(_(r)||0)*parseFloat(k)/100,0),V=()=>p.filter(e=>e.address!==N&&(_(e.address)||0)>0),Y=()=>p.filter(e=>!v.includes(e.address)&&(_(e.address)||0)>0),X=(e,r)=>{let a=e;return r&&(a=a.filter(e=>e.address.toLowerCase().includes(r.toLowerCase()))),"all"!==B&&("highBalance"===B?a=a.filter(e=>(_(e.address)||0)>=.1):"lowBalance"===B&&(a=a.filter(e=>(_(e.address)||0)<.1))),a.sort((e,r)=>{if("address"===I)return"asc"===M?e.address.localeCompare(r.address):r.address.localeCompare(e.address);if("balance"===I){const a=_(e.address)||0,s=_(r.address)||0;return"asc"===M?a-s:s-a}return 0})};if(!a)return null;const Z=document.createElement("style");return Z.textContent='\n    @keyframes modal-pulse {\n      0% { box-shadow: 0 0 5px var(--color-primary-50), 0 0 15px var(--color-primary-20); }\n      50% { box-shadow: 0 0 15px var(--color-primary-80), 0 0 25px var(--color-primary-40); }\n      100% { box-shadow: 0 0 5px var(--color-primary-50), 0 0 15px var(--color-primary-20); }\n    }\n    \n    @keyframes modal-fade-in {\n      0% { opacity: 0; }\n      100% { opacity: 1; }\n    }\n    \n    @keyframes modal-slide-up {\n      0% { transform: translateY(20px); opacity: 0; }\n      100% { transform: translateY(0); opacity: 1; }\n    }\n    \n    @keyframes modal-scan-line {\n      0% { transform: translateY(-100%); opacity: 0.3; }\n      100% { transform: translateY(100%); opacity: 0; }\n    }\n    \n    @keyframes data-transfer {\n      0% { transform: translateY(0); opacity: 0; }\n      10% { opacity: 1; }\n      90% { opacity: 1; }\n      100% { transform: translateY(20px); opacity: 0; }\n    }\n    \n    .modal-cyberpunk-container {\n      animation: modal-fade-in 0.3s ease;\n    }\n    \n    .modal-cyberpunk-content {\n      animation: modal-slide-up 0.4s ease;\n      position: relative;\n    }\n    \n    .modal-cyberpunk-content::before {\n      content: "";\n      position: absolute;\n      width: 100%;\n      height: 5px;\n      background: linear-gradient(to bottom, \n        transparent 0%,\n        var(--color-primary-20) 50%,\n        transparent 100%);\n      z-index: 10;\n      animation: modal-scan-line 8s linear infinite;\n      pointer-events: none;\n    }\n    \n    .modal-glow {\n      animation: modal-pulse 4s infinite;\n    }\n    \n    .modal-input-cyberpunk:focus {\n      box-shadow: 0 0 0 1px var(--color-primary-70), 0 0 15px var(--color-primary-50);\n      transition: all 0.3s ease;\n    }\n    \n    .modal-btn-cyberpunk {\n      position: relative;\n      overflow: hidden;\n      transition: all 0.3s ease;\n    }\n    \n    .modal-btn-cyberpunk::after {\n      content: "";\n      position: absolute;\n      top: -50%;\n      left: -50%;\n      width: 200%;\n      height: 200%;\n      background: linear-gradient(\n        to bottom right,\n        var(--color-primary-05) 0%,\n        var(--color-primary-30) 50%,\n        var(--color-primary-05) 100%\n      );\n      transform: rotate(45deg);\n      transition: all 0.5s ease;\n      opacity: 0;\n    }\n    \n    .modal-btn-cyberpunk:hover::after {\n      opacity: 1;\n      transform: rotate(45deg) translate(50%, 50%);\n    }\n    \n    .modal-btn-cyberpunk:active {\n      transform: scale(0.95);\n    }\n    \n    .progress-bar-cyberpunk {\n      position: relative;\n      overflow: hidden;\n    }\n    \n    .progress-bar-cyberpunk::after {\n      content: "";\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: linear-gradient(\n        90deg,\n        transparent 0%,\n        var(--color-primary-70) 50%,\n        transparent 100%\n      );\n      width: 100%;\n      height: 100%;\n      transform: translateX(-100%);\n      animation: progress-shine 3s infinite;\n    }\n    \n    @keyframes progress-shine {\n      0% { transform: translateX(-100%); }\n      20% { transform: translateX(100%); }\n      100% { transform: translateX(100%); }\n    }\n    \n    .glitch-text:hover {\n      text-shadow: 0 0 2px var(--color-primary), 0 0 4px var(--color-primary);\n      animation: glitch 2s infinite;\n    }\n    \n    @keyframes glitch {\n      2%, 8% { transform: translate(-2px, 0) skew(0.3deg); }\n      4%, 6% { transform: translate(2px, 0) skew(-0.3deg); }\n      62%, 68% { transform: translate(0, 0) skew(0.33deg); }\n      64%, 66% { transform: translate(0, 0) skew(-0.33deg); }\n    }\n    \n    .data-flow {\n      position: relative;\n      overflow: hidden;\n    }\n    \n    .data-flow::before {\n      content: "";\n      position: absolute;\n      height: 6px;\n      width: 6px;\n      background-color: var(--color-primary-70);\n      border-radius: 50%;\n      top: 30%;\n      left: 50%;\n      animation: data-transfer 2s infinite;\n      opacity: 0;\n    }\n    \n    .scrollbar-thin::-webkit-scrollbar {\n      width: 4px;\n    }\n    \n    .scrollbar-thin::-webkit-scrollbar-track {\n      background: var(--color-primary-10);\n    }\n    \n    .scrollbar-thin::-webkit-scrollbar-thumb {\n      background: var(--color-primary-50);\n      border-radius: 2px;\n    }\n    \n    .scrollbar-thin::-webkit-scrollbar-thumb:hover {\n      background: var(--color-primary-70);\n    }\n  ',document.head.appendChild(Z),J.createPortal(r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm modal-cyberpunk-container bg-app-primary-85",children:r.jsxs("div",{className:"relative bg-app-primary border border-app-primary-40 rounded-lg shadow-lg w-full max-w-6xl overflow-hidden transform modal-cyberpunk-content modal-glow",children:[r.jsx("div",{className:"absolute inset-0 z-0 opacity-10 bg-cyberpunk-grid"}),r.jsxs("div",{className:"relative z-10 p-4 flex justify-between items-center border-b border-app-primary-40",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-primary-20 mr-3",children:r.jsx(c,{size:16,className:"color-primary"})}),r.jsxs("h2",{className:"text-lg font-semibold text-app-primary font-mono",children:[r.jsx("span",{className:"color-primary",children:"/"})," CONSOLIDATE SOL ",r.jsx("span",{className:"color-primary",children:"/"})]})]}),r.jsx("button",{onClick:i,className:"text-app-secondary hover:color-primary transition-colors p-1 hover:bg-primary-20 rounded",children:r.jsx(s,{size:18})})]}),r.jsx("div",{className:"relative w-full h-1 bg-app-tertiary progress-bar-cyberpunk",children:r.jsx("div",{className:"h-full bg-app-primary-color transition-all duration-300",style:{width:0===x?"50%":"100%"}})}),r.jsxs("div",{className:"relative z-10 p-5 space-y-5",children:[0===x&&r.jsxs("div",{className:"animate-[fadeIn_0.3s_ease] flex flex-col space-y-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0",children:[r.jsx("div",{className:"w-full md:w-1/2",children:r.jsxs("div",{className:"group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-app-secondary group-hover:color-primary transition-colors duration-200 font-mono uppercase tracking-wider",children:[r.jsx("span",{className:"color-primary",children:">"})," Recipient Wallet ",r.jsx("span",{className:"color-primary",children:"<"})]}),N&&r.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[r.jsx(t,{size:10,className:"text-app-secondary"}),r.jsxs("span",{className:"color-primary font-medium font-mono",children:[D(_(N))," SOL"]})]})]}),r.jsxs("div",{className:"mb-2 flex space-x-2",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(n,{size:14,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-app-secondary"}),r.jsx("input",{type:"text",value:A,onChange:e=>L(e.target.value),className:"w-full pl-9 pr-4 py-2 bg-app-tertiary border border-app-primary-30 rounded-lg text-sm text-app-primary focus:outline-none focus:border-app-primary transition-all modal-input-cyberpunk font-mono",placeholder:"SEARCH RECIPIENT..."})]}),r.jsxs("select",{className:"bg-app-tertiary border border-app-primary-30 rounded-lg px-2 text-sm text-app-primary focus:outline-none focus:border-app-primary modal-input-cyberpunk font-mono",value:I,onChange:e=>R(e.target.value),children:[r.jsx("option",{value:"address",children:"ADDRESS"}),r.jsx("option",{value:"balance",children:"BALANCE"})]}),r.jsx("button",{className:"p-2 bg-app-tertiary border border-app-primary-30 rounded-lg text-app-secondary hover:color-primary hover:border-app-primary transition-all modal-btn-cyberpunk",onClick:()=>P("asc"===M?"desc":"asc"),children:"asc"===M?"↑":"↓"})]}),r.jsx("div",{className:"h-52 overflow-y-auto border border-app-primary-20 rounded-lg shadow-inner bg-app-tertiary transition-all duration-200 group-hover:border-app-primary-40 scrollbar-thin",children:X(Y(),A).length>0?X(Y(),A).map(e=>r.jsxs("div",{className:"flex items-center p-2.5 hover-bg-secondary cursor-pointer transition-all duration-200 border-b border-app-primary-20 last:border-b-0\n                                      "+(N===e.address?"bg-primary-10 border-app-primary-30":""),onClick:()=>w(e.address),children:[r.jsx("div",{className:"w-5 h-5 mr-3 rounded flex items-center justify-center transition-all duration-300\n                                            "+(N===e.address?"bg-app-primary-color shadow-md shadow-app-primary-40":"border border-app-primary-30 bg-app-tertiary"),children:N===e.address&&r.jsx(o,{size:14,className:"text-app-primary animate-[fadeIn_0.2s_ease]"})}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsx("span",{className:"font-mono text-sm text-app-primary glitch-text",children:F(e)}),r.jsxs("div",{className:"flex items-center mt-0.5",children:[r.jsx(t,{size:12,className:"text-app-secondary mr-1"}),r.jsxs("span",{className:"text-xs text-app-secondary font-mono",children:[D(_(e.address)||0)," SOL"]})]})]})]},e.id)):r.jsx("div",{className:"p-3 text-sm text-app-secondary text-center font-mono",children:A?"NO WALLETS FOUND":"NO WALLETS AVAILABLE"})})]})}),r.jsx("div",{className:"w-full md:w-1/2",children:r.jsxs("div",{className:"group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-app-secondary group-hover:color-primary transition-colors duration-200 font-mono uppercase tracking-wider",children:[r.jsx("span",{className:"color-primary",children:">"})," Source Wallets ",r.jsx("span",{className:"color-primary",children:"<"})]}),r.jsx("button",{onClick:()=>{v.length===V().length?j([]):j(V().map(e=>e.address))},className:"text-xs px-2 py-0.5 bg-app-tertiary hover-bg-secondary text-app-secondary hover:color-primary rounded transition-all border border-app-primary-20 hover:border-app-primary font-mono",children:v.length===V().length?"DESELECT ALL":"SELECT ALL"})]}),r.jsxs("div",{className:"mb-2 flex space-x-2",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(n,{size:14,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-app-secondary"}),r.jsx("input",{type:"text",value:E,onChange:e=>C(e.target.value),className:"w-full pl-9 pr-4 py-2 bg-app-tertiary border border-app-primary-30 rounded-lg text-sm text-app-primary focus:outline-none focus:border-app-primary transition-all modal-input-cyberpunk font-mono",placeholder:"SEARCH SOURCES..."})]}),r.jsxs("select",{className:"bg-app-tertiary border border-app-primary-30 rounded-lg px-2 text-sm text-app-primary focus:outline-none focus:border-app-primary modal-input-cyberpunk font-mono",value:B,onChange:e=>z(e.target.value),children:[r.jsx("option",{value:"all",children:"ALL"}),r.jsx("option",{value:"highBalance",children:"HIGH"}),r.jsx("option",{value:"lowBalance",children:"LOW"})]})]}),r.jsx("div",{className:"h-52 overflow-y-auto border border-app-primary-20 rounded-lg shadow-inner bg-app-tertiary transition-all duration-200 group-hover:border-app-primary-40 scrollbar-thin",children:X(V(),E).length>0?X(V(),E).map(e=>{const a=_(e.address)||0,s=a*parseFloat(k||"0")/100;return r.jsxs("div",{className:"flex items-center p-2.5 hover-bg-secondary cursor-pointer transition-all duration-200 border-b border-app-primary-20 last:border-b-0 data-flow\n                                        "+(v.includes(e.address)?"bg-primary-10 border-app-primary-30":""),onClick:()=>{return r=e.address,void j(e=>e.includes(r)?e.filter(e=>e!==r):[...e,r]);var r},children:[r.jsx("div",{className:"w-5 h-5 mr-3 rounded flex items-center justify-center transition-all duration-300\n                                              "+(v.includes(e.address)?"bg-app-primary-color shadow-md shadow-app-primary-40":"border border-app-primary-30 bg-app-tertiary"),children:v.includes(e.address)&&r.jsx(o,{size:14,className:"text-app-primary animate-[fadeIn_0.2s_ease]"})}),r.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[r.jsx("span",{className:"font-mono text-sm text-app-primary glitch-text",children:F(e)}),r.jsxs("div",{className:"flex flex-col items-end",children:[r.jsxs("span",{className:"text-xs text-app-secondary font-mono",children:[D(a)," SOL"]}),v.includes(e.address)&&k&&r.jsxs("span",{className:"text-xs color-primary font-mono",children:["-",s.toFixed(4)," SOL"]})]})]})]},e.id)}):r.jsx("div",{className:"p-3 text-sm text-app-secondary text-center font-mono",children:E?"NO WALLETS FOUND":"NO WALLETS AVAILABLE"})}),r.jsxs("div",{className:"mt-1.5 flex items-center justify-between text-xs",children:[r.jsxs("span",{className:"text-app-secondary font-mono",children:["SELECTED: ",r.jsx("span",{className:"color-primary font-medium",children:v.length})," WALLETS"]}),v.length>0&&k&&r.jsxs("span",{className:"text-app-secondary font-mono",children:["TOTAL TO CONSOLIDATE: ",r.jsxs("span",{className:"color-primary font-medium",children:[Q().toFixed(4)," SOL"]})]})]})]})})]}),r.jsxs("div",{className:"mt-4 border-t border-app-primary-20 pt-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0",children:[r.jsx("div",{className:"w-full md:w-1/3",children:r.jsxs("div",{className:"group",children:[r.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-app-secondary group-hover:color-primary transition-colors duration-200 font-mono uppercase tracking-wider",children:[r.jsx("span",{className:"color-primary",children:">"})," Percentage to Consolidate (%) ",r.jsx("span",{className:"color-primary",children:"<"})]}),r.jsxs("div",{className:"relative",onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),children:[r.jsx(l,{size:14,className:"text-app-secondary cursor-help"}),T&&r.jsx("div",{className:"absolute left-0 bottom-full mb-2 p-2 bg-app-tertiary border border-app-primary-30 rounded shadow-lg text-xs text-app-primary w-48 z-10 font-mono",children:"Percentage of SOL to consolidate from each source wallet"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:k,onChange:e=>{const r=e.target.value;(""===r||/^\d*\.?\d*$/.test(r)&&parseFloat(r)<=100)&&S(r)},className:"w-full px-4 py-2.5 bg-app-tertiary border border-app-primary-30 rounded-lg text-app-primary shadow-inner focus:border-app-primary focus:ring-1 focus:ring-primary-50 focus:outline-none transition-all duration-200 modal-input-cyberpunk font-mono tracking-wider",placeholder:"ENTER PERCENTAGE (E.G. 90)"}),r.jsx("div",{className:"absolute inset-0 rounded-lg pointer-events-none border border-transparent group-hover:border-app-primary-30 transition-all duration-300"})]})]})}),r.jsx("div",{className:"w-full md:w-2/3",children:N&&v.length>0?r.jsxs("div",{className:"bg-app-tertiary rounded-lg p-3 border border-app-primary-30 h-full shadow-inner",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("h3",{className:"text-sm font-semibold text-app-primary font-mono tracking-wider",children:[r.jsx("span",{className:"color-primary",children:"//"})," LIVE PREVIEW"]}),k&&r.jsx("div",{className:"px-2 py-1 bg-primary-20 rounded-md border border-app-primary-30",children:r.jsx("span",{className:"text-xs font-medium color-primary font-mono",children:k?`${k}% CONSOLIDATION`:"SET PERCENTAGE"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-app-secondary font-mono",children:"SOURCE WALLETS:"}),r.jsxs("span",{className:"text-xs text-app-primary font-mono",children:[v.length," SELECTED"]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-app-secondary font-mono",children:"RECIPIENT:"}),r.jsx("span",{className:"text-xs text-app-primary font-mono",children:W(N)})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-app-secondary font-mono",children:"RECIPIENT BALANCE:"}),r.jsxs("span",{className:"text-xs text-app-primary font-mono",children:[D(_(N))," SOL"]})]})]}),r.jsx("div",{className:"flex flex-col space-y-1",children:k&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-app-secondary font-mono",children:"AMOUNT TO MOVE:"}),r.jsxs("span",{className:"text-xs font-semibold color-primary font-mono",children:[Q().toFixed(4)," SOL"]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-app-secondary font-mono",children:"NEW BALANCE:"}),r.jsxs("span",{className:"text-xs text-app-primary font-mono",children:[(_(N)+Q()).toFixed(4)," SOL"]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-app-secondary font-mono",children:"CHANGE:"}),r.jsxs("span",{className:"text-xs font-semibold color-primary font-mono",children:["+",Q().toFixed(4)," SOL"]})]})]})})]})]}):r.jsx("div",{className:"bg-app-tertiary rounded-lg p-3 border border-app-primary-20 h-full flex items-center justify-center text-app-secondary text-sm font-mono",children:"SELECT RECIPIENT AND SOURCE WALLETS TO SEE LIVE PREVIEW"})})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[r.jsx("button",{onClick:i,className:"px-5 py-2.5 text-app-primary bg-app-tertiary border border-app-primary-30 hover-bg-secondary hover:border-app-primary rounded-lg transition-all duration-200 shadow-md font-mono tracking-wider modal-btn-cyberpunk",children:"CANCEL"}),r.jsxs("button",{onClick:()=>u(1),disabled:!N||!k||0===v.length,className:"px-5 py-2.5 rounded-lg shadow-lg flex items-center transition-all duration-300 font-mono tracking-wider\n                              "+(N&&k&&0!==v.length?"bg-app-primary-color text-app-primary hover:bg-app-primary-dark transform hover:-translate-y-0.5 modal-btn-cyberpunk":"bg-primary-50 cursor-not-allowed opacity-50 text-app-primary-80"),children:[r.jsx("span",{children:"REVIEW"}),r.jsx(d,{size:16,className:"ml-1"})]})]})]})]}),1===x&&r.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0 animate-[fadeIn_0.3s_ease]",children:[r.jsxs("div",{className:"w-full md:w-1/2 space-y-4",children:[r.jsxs("div",{className:"bg-app-tertiary rounded-lg p-4 border border-app-primary-30 shadow-inner",children:[r.jsxs("h3",{className:"text-base font-semibold text-app-primary mb-3 font-mono tracking-wider",children:[r.jsx("span",{className:"color-primary",children:"//"})," CONSOLIDATION SUMMARY"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"TO WALLET:"}),r.jsx("div",{className:"flex items-center bg-app-secondary px-2 py-1 rounded border border-app-primary-20",children:r.jsx("span",{className:"text-sm font-mono text-app-primary glitch-text",children:K(N)?F(K(N)):W(N)})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"CURRENT BALANCE:"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[D(_(N)||0)," SOL"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"SOURCE WALLETS:"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[v.length," WALLETS"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"PERCENTAGE PER SOURCE:"}),r.jsxs("span",{className:"text-sm color-primary font-medium font-mono",children:[k,"%"]})]}),r.jsxs("div",{className:"pt-2 border-t border-app-primary-20 flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-app-secondary font-mono",children:"TOTAL TO CONSOLIDATE:"}),r.jsxs("span",{className:"text-sm font-semibold color-primary font-mono",children:[Q().toFixed(4)," SOL"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"NEW BALANCE (ESTIMATED):"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[(_(N)+Q()).toFixed(4)," SOL"]})]})]})]}),r.jsx("div",{className:"flex items-center px-3 py-3 bg-app-tertiary rounded-lg border border-app-primary-30",children:r.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>f(!b),children:[r.jsxs("div",{className:"relative mx-1",children:[r.jsx("div",{className:"w-5 h-5 border border-app-primary-40 rounded transition-all cursor-pointer",style:{backgroundColor:b?"var(--color-primary)":"transparent",borderColor:b?"var(--color-primary)":"var(--color-primary-40)"}}),r.jsx(o,{size:14,className:"absolute top-0.5 left-0.5 text-app-primary transition-all "+(b?"opacity-100":"opacity-0")})]}),r.jsx("span",{className:"text-app-primary text-sm ml-2 cursor-pointer select-none font-mono",children:"I CONFIRM THIS CONSOLIDATION OPERATION"})]})})]}),r.jsx("div",{className:"w-full md:w-1/2",children:r.jsxs("div",{className:"bg-app-tertiary rounded-lg p-4 border border-app-primary-30 h-full shadow-inner",children:[r.jsxs("h3",{className:"text-base font-semibold text-app-primary mb-3 font-mono tracking-wider",children:[r.jsx("span",{className:"color-primary",children:"//"})," SELECTED SOURCE WALLETS"]}),r.jsx("div",{className:"max-h-64 overflow-y-auto pr-1 scrollbar-thin",children:v.length>0?v.map((e,a)=>{const s=K(e),t=_(e)||0,n=t*parseFloat(k)/100;return s?r.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-app-primary-20 last:border-b-0",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("span",{className:"text-app-secondary text-xs mr-2 w-6 font-mono",children:[a+1,"."]}),r.jsx("span",{className:"font-mono text-sm text-app-primary glitch-text",children:F(s)})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs("span",{className:"text-xs text-app-secondary mr-2 font-mono",children:["CURRENT: ",D(t)," SOL"]}),r.jsxs("span",{className:"text-xs color-primary font-mono",children:["-",n.toFixed(4)," SOL"]})]})]},s.id):null}):r.jsx("div",{className:"p-3 text-sm text-app-secondary text-center font-mono",children:"NO SOURCE WALLETS SELECTED"})})]})})]}),1===x&&r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:()=>u(0),className:"px-5 py-2.5 text-app-primary bg-app-tertiary border border-app-primary-30 hover-bg-secondary hover:border-app-primary rounded-lg transition-all duration-200 shadow-md font-mono tracking-wider modal-btn-cyberpunk",children:"BACK"}),r.jsx("button",{onClick:async e=>{if(e.preventDefault(),b){h(!0);try{const e=q(N);if(!e)return g("Receiver wallet private key not found","error"),void h(!1);const r={address:N,privateKey:e},a=v.map(e=>({address:e,privateKey:q(e)})).filter(e=>e.privateKey),s=$(a,r,parseFloat(k),m);if(!s.valid)return g(s.error||"Invalid consolidation data","error"),void h(!1);const t=await U(a,r,parseFloat(k));t.success?(g("SOL consolidated successfully","success"),H(),i()):g(t.error||"Consolidation failed","error")}catch(r){g("Consolidation failed: "+(r.message||"Unknown error"),"error")}finally{h(!1)}}},disabled:!b||y,className:"px-5 py-2.5 rounded-lg shadow-lg flex items-center transition-all duration-300 font-mono tracking-wider\n                          "+(!b||y?"bg-primary-50 cursor-not-allowed opacity-50 text-app-primary-80":"bg-app-primary-color text-app-primary hover:bg-app-primary-dark transform hover:-translate-y-0.5 modal-btn-cyberpunk"),children:y?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-app-primary-80 border-t-transparent animate-spin mr-2"}),"PROCESSING..."]}):"CONSOLIDATE SOL"})]})]}),r.jsx("div",{className:"absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2 border-app-primary opacity-70"})]})}),document.body)},Re=({isOpen:a,onClose:i,wallets:d,solBalances:c,connection:x,tokenAddress:u="",tokenBalances:y=new Map})=>{const[h,b]=e.useState(0),[f,g]=e.useState(!1),[v,j]=e.useState(!1),{showToast:N}=G(),[w,k]=e.useState([]),[S,E]=e.useState([]),[C,A]=e.useState(""),[L,T]=e.useState(""),[O,I]=e.useState(""),[R,M]=e.useState("SOL"),[P,B]=e.useState("amount"),[z,D]=e.useState([]),[W,_]=e.useState(0),[$,U]=e.useState(!1),[K,q]=e.useState(""),[H,Q]=e.useState("address"),[V,Y]=e.useState("asc"),[X,te]=e.useState("all"),[ne,oe]=e.useState(!1);e.useEffect(()=>{a&&he()},[a]),e.useEffect(()=>{"TOKEN"===R&&u?T(u):"SOL"===R&&T("")},[R,u]);const ie=e=>e.toFixed(4),de=e=>0===e?"0":e<.001&&e>0?e.toExponential(4):e.toLocaleString(void 0,{maximumFractionDigits:4}),ce=e=>`${e.substring(0,6)}...${e.substring(e.length-4)}`,pe=e=>c.has(e)?c.get(e)??0:0,me=e=>y.has(e)?y.get(e)??0:0,xe=e=>d.find(r=>r.privateKey===e),ue=e=>{e.trim()&&!S.includes(e.trim())&&(E(r=>[...r,e.trim()]),A(""))},ye=()=>{const e=(()=>{const e=parseFloat(O||"0");if(S.length,"percentage"===P){const r=e/100;return w.map(e=>{const a=xe(e);return a?(("SOL"===R?pe(a.address):me(a.address))*r).toString():"0"})}return w.map(()=>e.toString())})(),r=[];return w.forEach((a,s)=>{S.forEach(t=>{const n="percentage"===P?e[s]:e[0];r.push({sourceWallet:a,recipient:t,amount:n,status:"pending"})})}),D(r),r},he=()=>{b(0),j(!1),k([]),E([]),A(""),T(""),I(""),M("SOL"),B("amount"),D([]),_(0),U(!1),q(""),Q("address"),Y("asc"),te("all")},be=(e,r)=>{let a=e.filter(e=>"SOL"===R?(pe(e.address)||0)>0:(me(e.address)||0)>0);return r&&(a=a.filter(e=>e.address.toLowerCase().includes(r.toLowerCase()))),"all"!==X&&("highBalance"===X?a="SOL"===R?a.filter(e=>(pe(e.address)||0)>=.1):a.filter(e=>(me(e.address)||0)>=1e3):"lowBalance"===X&&(a="SOL"===R?a.filter(e=>(pe(e.address)||0)<.1):a.filter(e=>(me(e.address)||0)<1e3))),a.sort((e,r)=>{if("address"===H)return"asc"===V?e.address.localeCompare(r.address):r.address.localeCompare(e.address);if("balance"===H){const a="SOL"===R?pe(e.address)||0:me(e.address)||0,s="SOL"===R?pe(r.address)||0:me(r.address)||0;return"asc"===V?a-s:s-a}return 0})};if(!a)return null;const fe=document.createElement("style");return fe.textContent='\n    @keyframes modal-pulse {\n      0% { box-shadow: 0 0 5px var(--color-primary-50), 0 0 15px var(--color-primary-20); }\n      50% { box-shadow: 0 0 15px var(--color-primary-80), 0 0 25px var(--color-primary-40); }\n      100% { box-shadow: 0 0 5px var(--color-primary-50), 0 0 15px var(--color-primary-20); }\n    }\n    \n    @keyframes modal-fade-in {\n      0% { opacity: 0; }\n      100% { opacity: 1; }\n    }\n    \n    @keyframes modal-slide-up {\n      0% { transform: translateY(20px); opacity: 0; }\n      100% { transform: translateY(0); opacity: 1; }\n    }\n    \n    @keyframes modal-scan-line {\n      0% { transform: translateY(-100%); opacity: 0.3; }\n      100% { transform: translateY(100%); opacity: 0; }\n    }\n    \n    .modal-cyberpunk-container {\n      animation: modal-fade-in 0.3s ease;\n    }\n    \n    .modal-cyberpunk-content {\n      animation: modal-slide-up 0.4s ease;\n      position: relative;\n    }\n    \n    .modal-cyberpunk-content::before {\n      content: "";\n      position: absolute;\n      width: 100%;\n      height: 5px;\n      background: linear-gradient(to bottom, \n        transparent 0%,\n        var(--color-primary-20) 50%,\n        transparent 100%);\n      z-index: 10;\n      animation: modal-scan-line 8s linear infinite;\n      pointer-events: none;\n    }\n    \n    .modal-glow {\n      animation: modal-pulse 4s infinite;\n    }\n    \n    .modal-input-cyberpunk:focus {\n      box-shadow: 0 0 0 1px var(--color-primary-70), 0 0 15px var(--color-primary-50);\n      transition: all 0.3s ease;\n    }\n    \n    .modal-btn-cyberpunk {\n      position: relative;\n      overflow: hidden;\n      transition: all 0.3s ease;\n    }\n    \n    .modal-btn-cyberpunk::after {\n      content: "";\n      position: absolute;\n      top: -50%;\n      left: -50%;\n      width: 200%;\n      height: 200%;\n      background: linear-gradient(\n        to bottom right,\n        var(--color-primary-05) 0%,\n        var(--color-primary-30) 50%,\n        var(--color-primary-05) 100%\n      );\n      transform: rotate(45deg);\n      transition: all 0.5s ease;\n      opacity: 0;\n    }\n    \n    .modal-btn-cyberpunk:hover::after {\n      opacity: 1;\n      transform: rotate(45deg) translate(50%, 50%);\n    }\n    \n    .modal-btn-cyberpunk:active {\n      transform: scale(0.95);\n    }\n    \n    .progress-bar-cyberpunk {\n      position: relative;\n      overflow: hidden;\n    }\n    \n    .progress-bar-cyberpunk::after {\n      content: "";\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: linear-gradient(\n        90deg,\n        transparent 0%,\n        var(--color-primary-70) 50%,\n        transparent 100%\n      );\n      width: 100%;\n      height: 100%;\n      transform: translateX(-100%);\n      animation: progress-shine 3s infinite;\n    }\n    \n    @keyframes progress-shine {\n      0% { transform: translateX(-100%); }\n      20% { transform: translateX(100%); }\n      100% { transform: translateX(100%); }\n    }\n    \n    .glitch-text:hover {\n      text-shadow: 0 0 2px var(--color-primary), 0 0 4px var(--color-primary);\n      animation: glitch 2s infinite;\n    }\n    \n    @keyframes glitch {\n      2%, 8% { transform: translate(-2px, 0) skew(0.3deg); }\n      4%, 6% { transform: translate(2px, 0) skew(-0.3deg); }\n      62%, 68% { transform: translate(0, 0) skew(0.33deg); }\n      64%, 66% { transform: translate(0, 0) skew(-0.33deg); }\n    }\n    \n    @keyframes fadeIn {\n      0% { opacity: 0; }\n      100% { opacity: 1; }\n    }\n    \n    @keyframes scale-in {\n      0% { transform: scale(0); }\n      100% { transform: scale(1); }\n    }\n    \n    .scrollbar-thin::-webkit-scrollbar {\n      width: 4px;\n    }\n    \n    .scrollbar-thin::-webkit-scrollbar-track {\n      background: var(--color-bg-tertiary);\n    }\n    \n    .scrollbar-thin::-webkit-scrollbar-thumb {\n      background: var(--color-primary);\n      border-radius: 2px;\n    }\n    \n    .scrollbar-thin::-webkit-scrollbar-thumb:hover {\n      background: var(--color-primary-dark);\n    }\n  ',document.head.appendChild(fe),J.createPortal(r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm modal-cyberpunk-container bg-app-primary-85",children:r.jsxs("div",{className:"relative bg-app-primary border border-app-primary-40 rounded-lg shadow-lg w-full max-w-7xl max-h-[90vh] overflow-hidden transform modal-cyberpunk-content modal-glow",children:[r.jsx("div",{className:"absolute inset-0 z-0 opacity-10 bg-cyberpunk-grid"}),r.jsxs("div",{className:"relative z-10 p-4 flex justify-between items-center border-b border-app-primary-40",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-primary-20 mr-3",children:r.jsx(p,{size:16,className:"color-primary"})}),r.jsxs("h2",{className:"text-lg font-semibold text-app-primary font-mono",children:[r.jsx("span",{className:"color-primary",children:"/"})," TRANSFER CONSOLE ",r.jsx("span",{className:"color-primary",children:"/"})]})]}),r.jsx("button",{onClick:i,className:"text-app-secondary hover:color-primary transition-colors p-1 hover:bg-primary-20 rounded",children:r.jsx(s,{size:18})})]}),r.jsx("div",{className:"relative w-full h-1 bg-app-tertiary progress-bar-cyberpunk",children:r.jsx("div",{className:"h-full bg-app-primary-color transition-all duration-300",style:{width:0===h?"50%":"100%"}})}),r.jsx("div",{className:"relative z-10 h-[calc(90vh-120px)] overflow-hidden",children:r.jsxs("div",{className:"h-full flex",children:[r.jsx("div",{className:"flex-1 border-r border-app-primary-20 overflow-y-auto",children:r.jsx("div",{className:"p-5 space-y-4",children:r.jsxs("div",{className:"animate-[fadeIn_0.3s_ease]",children:[r.jsxs("div",{className:"group mb-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-app-secondary mb-2 group-hover:color-primary transition-colors duration-200 font-mono uppercase tracking-wider",children:[r.jsx("span",{className:"color-primary",children:">"})," Transfer Type ",r.jsx("span",{className:"color-primary",children:"<"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{type:"button",onClick:()=>M("SOL"),className:"flex-1 flex items-center justify-center p-3 rounded-lg border transition-all duration-200 font-mono modal-btn-cyberpunk "+("SOL"===R?"bg-primary-20 border-app-primary color-primary shadow-md shadow-app-primary-40":"bg-app-tertiary border-app-primary-30 text-app-secondary hover-border-primary hover:color-primary"),children:[r.jsx(t,{size:16,className:"mr-2"}),"SOL"]}),r.jsxs("button",{type:"button",onClick:()=>M("TOKEN"),disabled:!u,className:"flex-1 flex items-center justify-center p-3 rounded-lg border transition-all duration-200 font-mono modal-btn-cyberpunk "+("TOKEN"===R?"bg-primary-20 border-app-primary color-primary shadow-md shadow-app-primary-40":u?"bg-app-tertiary border-app-primary-30 text-app-secondary hover-border-primary hover:color-primary":"bg-app-tertiary border-app-primary-20 text-app-secondary-40 cursor-not-allowed"),children:[r.jsx(m,{size:16,className:"mr-2"}),"TOKEN"]})]}),!u&&r.jsxs("div",{className:"mt-2 text-xs text-app-secondary font-mono",children:[r.jsx(l,{size:12,className:"inline mr-1"}),"Set a token address in the main app to enable token transfers"]}),u&&"TOKEN"===R&&r.jsxs("div",{className:"mt-2 text-xs color-primary font-mono",children:[r.jsx("span",{className:"text-app-secondary",children:"TOKEN:"})," ",ce(u)]})]}),r.jsxs("div",{className:"group mb-4",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsxs("label",{className:"text-sm font-medium text-app-secondary group-hover:color-primary transition-colors duration-200 font-mono uppercase tracking-wider",children:[r.jsx("span",{className:"color-primary",children:">"})," Source Wallets (",w.length," selected) ",r.jsx("span",{className:"color-primary",children:"<"})]})}),r.jsxs("div",{className:"mb-2 flex space-x-2",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(n,{size:14,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-app-secondary"}),r.jsx("input",{type:"text",value:K,onChange:e=>q(e.target.value),className:"w-full pl-9 pr-4 py-2 bg-app-tertiary border border-app-primary-30 rounded-lg text-sm text-app-primary focus:outline-none focus-border-primary transition-all modal-input-cyberpunk font-mono",placeholder:"SEARCH WALLETS..."})]}),r.jsxs("select",{className:"bg-app-tertiary border border-app-primary-30 rounded-lg px-2 text-sm text-app-primary focus:outline-none focus-border-primary modal-input-cyberpunk font-mono",value:H,onChange:e=>Q(e.target.value),children:[r.jsx("option",{value:"address",children:"ADDRESS"}),r.jsx("option",{value:"balance",children:"BALANCE"})]}),r.jsx("button",{className:"p-2 bg-app-tertiary border border-app-primary-30 rounded-lg text-app-secondary hover:color-primary hover-border-primary transition-all modal-btn-cyberpunk",onClick:()=>Y("asc"===V?"desc":"asc"),children:"asc"===V?"↑":"↓"})]}),r.jsx("div",{className:"h-48 overflow-y-auto border border-app-primary-20 rounded-lg shadow-inner bg-app-tertiary transition-all duration-200 group-hover:border-app-primary-40 scrollbar-thin",children:be(d,K).length>0?be(d,K).map(e=>r.jsxs("div",{className:"flex items-center p-2.5 hover-bg-secondary cursor-pointer transition-all duration-200 border-b border-app-primary-20 last:border-b-0\n                                      "+(w.includes(e.privateKey)?"bg-primary-10 border-app-primary-30":""),onClick:()=>{return r=e.privateKey,void k(e=>e.includes(r)?e.filter(e=>e!==r):[...e,r]);var r},children:[r.jsx("div",{className:"w-5 h-5 mr-3 rounded flex items-center justify-center transition-all duration-300\n                                            "+(w.includes(e.privateKey)?"bg-app-primary-color shadow-md shadow-app-primary-40":"border border-app-primary-30 bg-app-tertiary"),children:w.includes(e.privateKey)&&r.jsx(o,{size:14,className:"text-app-primary animate-[fadeIn_0.2s_ease]"})}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsx("span",{className:"font-mono text-sm text-app-primary glitch-text",children:F(e)}),r.jsx("div",{className:"flex items-center mt-0.5",children:"SOL"===R?r.jsxs(r.Fragment,{children:[r.jsx(t,{size:12,className:"text-app-secondary mr-1"}),r.jsxs("span",{className:"text-xs text-app-secondary font-mono",children:[ie(pe(e.address)||0)," SOL"]})]}):r.jsxs(r.Fragment,{children:[r.jsx(m,{size:12,className:"text-app-secondary mr-1"}),r.jsxs("span",{className:"text-xs text-app-secondary font-mono",children:[de(me(e.address)||0)," TKN"]})]})})]})]},e.id)):r.jsx("div",{className:"p-3 text-sm text-app-secondary text-center font-mono",children:K?`NO WALLETS FOUND WITH ${R} BALANCE > 0`:`NO WALLETS AVAILABLE WITH ${R} BALANCE > 0`})})]}),r.jsxs("div",{className:"group",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsxs("label",{className:"text-sm font-medium text-app-secondary group-hover:color-primary transition-colors duration-200 font-mono uppercase tracking-wider",children:[r.jsx("span",{className:"color-primary",children:">"})," Recipients (",S.length,") ",r.jsx("span",{className:"color-primary",children:"<"})]})}),r.jsxs("div",{className:"relative mb-3",children:[r.jsx("input",{type:"text",value:C,onChange:e=>A(e.target.value),onKeyPress:e=>{"Enter"===e.key&&C.trim()&&ue(C.trim())},className:"w-full px-4 py-2.5 pr-16 bg-app-tertiary border border-app-primary-30 rounded-lg text-app-primary shadow-inner focus-border-primary focus:ring-1 ring-primary-50 focus:outline-none transition-all duration-200 modal-input-cyberpunk font-mono tracking-wider",placeholder:"ENTER RECIPIENT ADDRESS"}),r.jsx("button",{type:"button",onClick:()=>{C.trim()&&ue(C.trim())},disabled:!C.trim(),className:"absolute right-2 top-1/2 transform -translate-y-1/2 px-2 py-1 bg-app-primary-color text-app-primary text-xs font-bold rounded hover:bg-app-primary-dark disabled:bg-primary-30 disabled:text-app-secondary disabled:cursor-not-allowed transition-all duration-200 font-mono tracking-wider",children:"ADD"})]}),r.jsx("div",{className:"h-32 overflow-y-auto border border-app-primary-20 rounded-lg bg-app-tertiary scrollbar-thin",children:S.length>0?S.map((e,a)=>r.jsxs("div",{className:"flex items-center justify-between p-2.5 border-b border-app-primary-20 last:border-b-0 hover-bg-secondary transition-all duration-200",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"font-mono text-sm text-app-primary",children:ce(e)}),"SOL"===R&&c.has(e)&&r.jsxs("div",{className:"flex items-center mt-0.5",children:[r.jsx(t,{size:12,className:"text-app-secondary mr-1"}),r.jsxs("span",{className:"text-xs text-app-secondary font-mono",children:[ie(pe(e)||0)," SOL"]})]}),"TOKEN"===R&&y.has(e)&&r.jsxs("div",{className:"flex items-center mt-0.5",children:[r.jsx(m,{size:12,className:"text-app-secondary mr-1"}),r.jsxs("span",{className:"text-xs text-app-secondary font-mono",children:[de(me(e)||0)," TKN"]})]})]}),r.jsx("button",{type:"button",onClick:()=>(e=>{E(r=>r.filter(r=>r!==e))})(e),className:"ml-2 p-1 text-warning hover:text-error-alt hover:bg-error-alt-20 rounded transition-all duration-200",children:r.jsx(s,{size:14})})]},a)):r.jsx("div",{className:"p-3 text-sm text-app-secondary text-center font-mono",children:"NO RECIPIENTS ADDED YET"})})]})]})})}),r.jsx("div",{className:"w-96 overflow-y-auto",children:r.jsxs("div",{className:"p-5 space-y-4",children:[w.length>0&&S.length>0&&r.jsxs("div",{className:"group",children:[r.jsxs("label",{className:"block text-sm font-medium text-app-secondary mb-2 group-hover:color-primary transition-colors duration-200 font-mono uppercase tracking-wider",children:[r.jsx("span",{className:"color-primary",children:">"})," Distribution Mode ",r.jsx("span",{className:"color-primary",children:"<"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{type:"button",onClick:()=>B("amount"),className:"w-full p-3 rounded-lg border transition-all duration-200 font-mono text-sm "+("amount"===P?"bg-primary-10 border-app-primary color-primary":"bg-app-tertiary border-app-primary-30 text-app-secondary hover-border-primary hover:color-primary"),children:[r.jsx("div",{className:"font-semibold mb-1",children:"FIXED AMOUNT"}),r.jsx("div",{className:"text-xs opacity-80",children:"Transfer exact amount from each wallet"})]}),r.jsxs("button",{type:"button",onClick:()=>B("percentage"),className:"w-full p-3 rounded-lg border transition-all duration-200 font-mono text-sm "+("percentage"===P?"bg-primary-10 border-app-primary color-primary":"bg-app-tertiary border-app-primary-30 text-app-secondary hover-border-primary hover:color-primary"),children:[r.jsx("div",{className:"font-semibold mb-1",children:"PERCENTAGE"}),r.jsx("div",{className:"text-xs opacity-80",children:"Transfer % of each wallet's balance"})]})]})]}),r.jsxs("div",{className:"group",children:[r.jsxs("label",{className:"block text-sm font-medium text-app-secondary mb-1.5 group-hover:color-primary transition-colors duration-200 font-mono uppercase tracking-wider",children:[r.jsx("span",{className:"color-primary",children:">"}),"percentage"===P?"Percentage (%)":`Amount (${R})`,r.jsx("span",{className:"color-primary",children:"<"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",value:O,onChange:e=>I(e.target.value),className:"w-full px-4 py-2.5 pr-16 bg-app-tertiary border border-app-primary-30 rounded-lg text-app-primary shadow-inner focus-border-primary focus:ring-1 ring-primary-50 focus:outline-none transition-all duration-200 modal-input-cyberpunk font-mono tracking-wider",placeholder:"percentage"===P?"ENTER %":`ENTER ${R}`,step:"percentage"===P?"0.1":"SOL"===R?"0.0001":"1",min:"0",max:"percentage"===P?"100":void 0}),r.jsx("button",{type:"button",onClick:()=>{if(w.length>0)if("percentage"===P)I("100");else{const e=Math.min(...w.map(e=>{const r=xe(e);return r?"SOL"===R?pe(r.address)||0:me(r.address)||0:0}));I(e.toString())}},disabled:0===w.length,className:"absolute right-2 top-1/2 transform -translate-y-1/2 px-2 py-1 bg-app-primary-color text-app-primary text-xs font-bold rounded hover:bg-app-primary-dark disabled:bg-primary-30 disabled:text-app-secondary disabled:cursor-not-allowed transition-all duration-200 font-mono tracking-wider",children:"MAX"})]})]}),w.length>0&&S.length>0&&O&&r.jsxs("div",{className:"bg-app-tertiary border border-app-primary-30 rounded-lg p-4",children:[r.jsx("h3",{className:"text-base font-semibold text-app-primary mb-3 font-mono tracking-wider",children:"TRANSFER SUMMARY"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs font-mono",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-app-secondary",children:"SOURCES:"}),r.jsx("span",{className:"color-primary ml-1 font-semibold",children:w.length})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-app-secondary",children:"RECIPIENTS:"}),r.jsx("span",{className:"color-primary ml-1 font-semibold",children:S.length})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-app-secondary",children:"AMOUNT:"}),r.jsx("span",{className:"color-primary ml-1 font-semibold",children:"percentage"===P?`${O}%`:`${O} ${R}`})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-app-secondary",children:"TOTAL TXN:"}),r.jsx("span",{className:"color-primary ml-1 font-semibold",children:w.length*S.length})]})]}),r.jsx("div",{className:"text-xs font-mono text-app-secondary",children:"percentage"===P?`${O}% of each wallet's balance to each of ${S.length} recipient(s)`:`${O} ${R} from each wallet to each of ${S.length} recipient(s)`}),"TOKEN"===R&&L&&r.jsxs("div",{className:"p-2 bg-app-primary rounded border border-app-primary-20",children:[r.jsx("p",{className:"text-xs text-app-secondary font-mono mb-1",children:"TOKEN:"}),r.jsx("p",{className:"text-xs text-app-primary font-mono break-all",children:L})]})]}),r.jsxs("div",{className:"flex items-center px-3 py-3 bg-app-primary rounded-lg border border-app-primary-40 mt-4 cursor-pointer",onClick:()=>j(!v),children:[r.jsxs("div",{className:"relative mx-1",children:[r.jsx("div",{className:"w-5 h-5 border border-app-primary-40 rounded transition-all "+(v?"bg-app-primary-color border-0":"")}),r.jsx(o,{size:14,className:"absolute top-0.5 left-0.5 text-app-primary transition-all "+(v?"opacity-100":"opacity-0")})]}),r.jsx("span",{className:"text-app-primary text-sm ml-2 select-none font-mono",children:"CONFIRM BATCH TRANSFER"})]}),r.jsx("button",{onClick:async e=>{if(e.preventDefault(),!v)return;U(!0),g(!0);const r=ye();let a=0,s=0;try{for(let e=0;e<r.length;e++){_(e);const n=r[e];D(r=>r.map((r,a)=>a===e?{...r,status:"processing"}:r));try{const r=xe(n.sourceWallet);if(!r)throw new Error("Source wallet not found");const s="https://solana.fury.bot",t=await fetch(`${s}/api/tokens/transfer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({senderPublicKey:r.address,receiver:n.recipient,tokenAddress:"TOKEN"===R?L:null,amount:n.amount})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const o=await t.json();if(!o.success)throw new Error(o.error);const i=ae.Buffer.from(le.decode(o.data.transaction)),l=se.deserialize(i),d=new re(l),c=ee.fromSecretKey(le.decode(n.sourceWallet));d.sign([c]);const p=le.encode(d.serialize()),m=await Z(p),x=m.signature||m.txid||"Unknown";D(r=>r.map((r,a)=>a===e?{...r,status:"completed",signature:x}:r)),a++}catch(t){let r="Transfer failed";t instanceof Error&&(r=t.message),D(a=>a.map((a,s)=>s===e?{...a,status:"failed",error:r}:a)),s++}e<r.length-1&&await new Promise(e=>setTimeout(e,1e3))}N(`Batch transfer completed: ${a} successful, ${s} failed`,a>0?"success":"error"),a===r.length&&setTimeout(()=>{he(),i()},3e3)}catch(t){N("Batch transfer failed","error")}finally{U(!1),g(!1)}},disabled:!v||f||$,className:"w-full mt-4 px-5 py-3 rounded-lg shadow-lg flex items-center justify-center transition-all duration-300 font-mono tracking-wider\n                                "+(!v||f||$?"bg-primary-50 text-app-secondary-80 cursor-not-allowed opacity-50":"bg-app-primary-color text-app-primary hover:bg-app-primary-dark transform hover:-translate-y-0.5 modal-btn-cyberpunk"),children:f||$?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-app-secondary-80 border-t-transparent animate-spin mr-2"}),$?"PROCESSING...":"INITIALIZING..."]}):`EXECUTE BATCH (${w.length*S.length} TXN)`})]}),$&&z.length>0&&r.jsxs("div",{className:"bg-app-quaternary border border-app-primary-40 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm color-primary font-medium mb-3 font-mono",children:"PROCESSING PROGRESS"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[r.jsx("span",{className:"text-app-secondary",children:"CURRENT:"}),r.jsxs("span",{className:"color-primary",children:[W+1," / ",z.length]})]}),r.jsx("div",{className:"w-full bg-app-tertiary rounded-full h-2",children:r.jsx("div",{className:"bg-app-primary-color h-2 rounded-full transition-all duration-300",style:{width:(W+1)/z.length*100+"%"}})}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs font-mono mt-2",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("span",{className:"text-app-secondary",children:"DONE:"}),r.jsx("span",{className:"color-primary ml-1",children:z.filter(e=>"completed"===e.status).length})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("span",{className:"text-app-secondary",children:"ACTIVE:"}),r.jsx("span",{className:"text-warning ml-1",children:z.filter(e=>"processing"===e.status).length})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("span",{className:"text-app-secondary",children:"FAILED:"}),r.jsx("span",{className:"text-warning ml-1",children:z.filter(e=>"failed"===e.status).length})]})]})]})]})]})})]})}),r.jsx("div",{className:"absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2 border-app-primary opacity-70"})]})}),document.body)},Me=({isOpen:a,onClose:i,wallets:c,solBalances:p,setSolBalances:m,connection:x})=>{const[u,y]=e.useState(""),[h,b]=e.useState(""),[f,g]=e.useState(""),[v,j]=e.useState(!1),[N,w]=e.useState(0),[k,S]=e.useState(!1),[E,C]=e.useState(""),[A,L]=e.useState("address"),[T,O]=e.useState("asc"),[I,R]=e.useState("all"),[M,P]=e.useState(!1),{showToast:B}=G();e.useEffect(()=>{a&&U()},[a]);const z=e=>e.toFixed(4),D=e=>`${e.substring(0,6)}...${e.substring(e.length-4)}`,W=e=>p.get(e)??0,_=()=>{if(!u)return 0;return W(u)},$=()=>{if(!u||!f)return!1;return _()<parseFloat(f)},U=()=>{w(0),b(""),g(""),S(!1),C(""),L("address"),O("asc"),R("all")},K=(e,r)=>{let a=e;return r&&(a=a.filter(e=>e.address.toLowerCase().includes(r.toLowerCase()))),"all"!==I&&("nonZero"===I?a=a.filter(e=>(W(e.address)||0)>0):"highBalance"===I?a=a.filter(e=>(W(e.address)||0)>=.1):"lowBalance"===I&&(a=a.filter(e=>(W(e.address)||0)<.1&&(W(e.address)||0)>0))),a.sort((e,r)=>{if("address"===A)return"asc"===T?e.address.localeCompare(r.address):r.address.localeCompare(e.address);if("balance"===A){const a=W(e.address)||0,s=W(r.address)||0;return"asc"===T?a-s:s-a}return 0})};if(!a)return null;const q=document.createElement("style");return q.textContent='\n    @keyframes modal-pulse {\n      0% { box-shadow: 0 0 5px var(--color-primary-50), 0 0 15px var(--color-primary-20); }\n      50% { box-shadow: 0 0 15px var(--color-primary-80), 0 0 25px var(--color-primary-40); }\n      100% { box-shadow: 0 0 5px var(--color-primary-50), 0 0 15px var(--color-primary-20); }\n    }\n    \n    @keyframes modal-fade-in {\n      0% { opacity: 0; }\n      100% { opacity: 1; }\n    }\n    \n    @keyframes modal-slide-up {\n      0% { transform: translateY(20px); opacity: 0; }\n      100% { transform: translateY(0); opacity: 1; }\n    }\n    \n    @keyframes modal-scan-line {\n      0% { transform: translateY(-100%); opacity: 0.3; }\n      100% { transform: translateY(100%); opacity: 0; }\n    }\n    \n    .modal-cyberpunk-container {\n      animation: modal-fade-in 0.3s ease;\n    }\n    \n    .modal-cyberpunk-content {\n      animation: modal-slide-up 0.4s ease;\n      position: relative;\n    }\n    \n    .modal-cyberpunk-content::before {\n      content: "";\n      position: absolute;\n      width: 100%;\n      height: 5px;\n      background: linear-gradient(to bottom, \n        transparent 0%,\n        var(--color-primary-20) 50%,\n        transparent 100%);\n      z-index: 10;\n      animation: modal-scan-line 8s linear infinite;\n      pointer-events: none;\n    }\n    \n    .modal-glow {\n      animation: modal-pulse 4s infinite;\n    }\n    \n    .modal-input-cyberpunk:focus {\n      box-shadow: 0 0 0 1px var(--color-primary-70), 0 0 15px var(--color-primary-50);\n      transition: all 0.3s ease;\n    }\n    \n    .modal-btn-cyberpunk {\n      position: relative;\n      overflow: hidden;\n      transition: all 0.3s ease;\n    }\n    \n    .modal-btn-cyberpunk::after {\n      content: "";\n      position: absolute;\n      top: -50%;\n      left: -50%;\n      width: 200%;\n      height: 200%;\n      background: linear-gradient(\n        to bottom right,\n        transparent 0%,\n        var(--color-primary-30) 50%,\n        transparent 100%\n      );\n      transform: rotate(45deg);\n      transition: all 0.5s ease;\n      opacity: 0;\n    }\n    \n    .modal-btn-cyberpunk:hover::after {\n      opacity: 1;\n      transform: rotate(45deg) translate(50%, 50%);\n    }\n    \n    .modal-btn-cyberpunk:active {\n      transform: scale(0.95);\n    }\n    \n    .progress-bar-cyberpunk {\n      position: relative;\n      overflow: hidden;\n    }\n    \n    .progress-bar-cyberpunk::after {\n      content: "";\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: linear-gradient(\n        90deg,\n        transparent 0%,\n        var(--color-primary-70) 50%,\n        transparent 100%\n      );\n      width: 100%;\n      height: 100%;\n      transform: translateX(-100%);\n      animation: progress-shine 3s infinite;\n    }\n    \n    @keyframes progress-shine {\n      0% { transform: translateX(-100%); }\n      20% { transform: translateX(100%); }\n      100% { transform: translateX(100%); }\n    }\n    \n    .glitch-text:hover {\n      text-shadow: 0 0 2px var(--color-primary), 0 0 4px var(--color-primary);\n      animation: glitch 2s infinite;\n    }\n    \n    @keyframes glitch {\n      2%, 8% { transform: translate(-2px, 0) skew(0.3deg); }\n      4%, 6% { transform: translate(2px, 0) skew(-0.3deg); }\n      62%, 68% { transform: translate(0, 0) skew(0.33deg); }\n      64%, 66% { transform: translate(0, 0) skew(-0.33deg); }\n    }\n  ',document.head.appendChild(q),J.createPortal(r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm modal-cyberpunk-container bg-app-primary-85",children:r.jsxs("div",{className:"relative bg-app-primary border border-app-primary-40 rounded-lg shadow-lg w-full max-w-md overflow-hidden transform modal-cyberpunk-content modal-glow",children:[r.jsx("div",{className:"absolute inset-0 z-0 opacity-10 bg-cyberpunk-grid"}),r.jsxs("div",{className:"relative z-10 p-4 flex justify-between items-center border-b border-app-primary-40",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-primary-20 mr-3",children:r.jsx(t,{size:16,className:"color-primary"})}),r.jsxs("h2",{className:"text-lg font-semibold text-app-primary font-mono",children:[r.jsx("span",{className:"color-primary",children:"/"})," DEPOSIT SOL ",r.jsx("span",{className:"color-primary",children:"/"})]})]}),r.jsx("button",{onClick:i,className:"text-app-secondary hover:color-primary transition-colors p-1 hover:bg-primary-20 rounded",children:r.jsx(s,{size:18})})]}),r.jsx("div",{className:"relative w-full h-1 bg-app-tertiary progress-bar-cyberpunk",children:r.jsx("div",{className:"h-full bg-app-primary-color transition-all duration-300",style:{width:0===N?"50%":"100%"}})}),r.jsxs("div",{className:"relative z-10 p-5 space-y-5",children:[0===N&&r.jsxs("div",{className:"animate-[fadeIn_0.3s_ease]",children:[r.jsxs("div",{children:[r.jsxs("button",{onClick:async()=>{try{const{solana:r}=window;if(!r?.isPhantom)throw new Error("Phantom wallet not found");const a=await r.connect(),s=a.publicKey.toString();y(s);try{const e=await x.getBalance(a.publicKey,"processed")/1e9;if(m){const r=new Map(p);r.set(s,e),m(r)}}catch(e){}return!0}catch(r){return B("Failed to connect to Phantom wallet","error"),!1}},className:"w-full px-4 py-3 bg-app-tertiary border border-app-primary-40 hover-border-primary text-app-primary rounded-lg flex items-center justify-center gap-2 transition-all duration-300 shadow-lg hover:shadow-app-primary-40 transform hover:-translate-y-0.5 modal-btn-cyberpunk",children:[r.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("rect",{width:"128",height:"128",rx:"64",fill:"#050a0e"}),r.jsx("path",{d:"M110.584 64.9142H99.142C99.142 41.8335 80.2231 23 57.142 23C36.3226 23 18.7929 38.8944 15.6294 59.0563C15.2463 61.2766 15.0547 63.5605 15.0547 65.8019C15.0547 67.693 17.0548 69.142 18.9496 69.142H41.0038C42.2774 69.142 43.3791 68.2511 43.6484 67.002C43.8341 66.1368 44.0274 65.2393 44.3292 64.3971C46.5275 57.427 52.3790 52.4294 59.2648 52.4294C67.7598 52.4294 74.6521 59.3214 74.6521 67.8164C74.6521 76.3113 67.7598 83.2037 59.2648 83.2037C55.9574 83.2037 52.8709 82.0949 50.3999 80.1855C49.431 79.4954 48.1363 79.5393 47.2752 80.3996L32.0447 95.6302C30.8197 96.8548 31.5636 99 33.2599 99C34.9026 99 36.5454 98.8781 38.142 98.6553C44.9556 97.6553 51.2356 94.8281 56.3762 90.642C58.6555 88.7861 61.0457 86.7567 63.7865 85.0392C63.9501 84.9312 64.114 84.8231 64.3322 84.7151C76.4899 79.4954 85.7462 68.6714 87.4429 55.4348C87.6739 53.7519 87.7891 52.0158 87.7891 50.2259C87.7891 48.9332 88.5024 47.7629 89.6275 47.2292L106.396 39.3163C108.364 38.4161 110.584 39.8481 110.584 41.9863V64.9142Z",fill:"#02b36d"}),r.jsx("path",{d:"M110.584 64.9142H99.142C99.142 41.8335 80.2231 23 57.142 23C36.3226 23 18.7929 38.8944 15.6294 59.0563C15.2463 61.2766 15.0547 63.5605 15.0547 65.8019C15.0547 67.693 17.0548 69.142 18.9496 69.142H41.0038C42.2774 69.142 43.3791 68.2511 43.6484 67.002C43.8341 66.1368 44.0274 65.2393 44.3292 64.3971C46.5275 57.427 52.3790 52.4294 59.2648 52.4294C67.7598 52.4294 74.6521 59.3214 74.6521 67.8164C74.6521 76.3113 67.7598 83.2037 59.2648 83.2037C55.9574 83.2037 52.8709 82.0949 50.3999 80.1855C49.431 79.4954 48.1363 79.5393 47.2752 80.3996L32.0447 95.6302C30.8197 96.8548 31.5636 99 33.2599 99C34.9026 99 36.5454 98.8781 38.142 98.6553C44.9556 97.6553 51.2356 94.8281 56.3762 90.642C58.6555 88.7861 61.0457 86.7567 63.7865 85.0392C63.9501 84.9312 64.114 84.8231 64.3322 84.7151C76.4899 79.4954 85.7462 68.6714 87.4429 55.4348C87.6739 53.7519 87.7891 52.0158 87.7891 50.2259C87.7891 48.9332 88.5024 47.7629 89.6275 47.2292L106.396 39.3163C108.364 38.4161 110.584 39.8481 110.584 41.9863V64.9142Z",fill:"url(#paint0_linear_phantom)"}),r.jsx("defs",{children:r.jsxs("linearGradient",{id:"paint0_linear_phantom",x1:"62.8196",y1:"23",x2:"62.8196",y2:"99",gradientUnits:"userSpaceOnUse",children:[r.jsx("stop",{stopColor:"#7ddfbd"}),r.jsx("stop",{offset:"1",stopColor:"#02b36d"})]})})]}),r.jsx("span",{className:"font-mono tracking-wider",children:"CONNECT PHANTOM"})]}),u&&r.jsxs("div",{className:"mt-3 p-3 bg-app-tertiary rounded-lg border border-app-primary-30 text-sm font-mono text-app-primary break-all shadow-inner animate-[fadeIn_0.3s_ease]",children:[r.jsx("div",{className:"text-xs text-app-secondary mb-1 font-mono uppercase",children:"Connected:"}),u]})]}),r.jsxs("div",{className:"group mt-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-app-secondary group-hover:color-primary transition-colors duration-200 font-mono uppercase tracking-wider",children:[r.jsx("span",{className:"color-primary",children:">"})," Select Recipient ",r.jsx("span",{className:"color-primary",children:"<"})]}),h&&r.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[r.jsx(t,{size:10,className:"text-app-secondary"}),r.jsxs("span",{className:"color-primary font-medium font-mono",children:[z(W(h))," SOL"]})]})]}),r.jsxs("div",{className:"mb-2 flex space-x-2",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(n,{size:14,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-app-secondary"}),r.jsx("input",{type:"text",value:E,onChange:e=>C(e.target.value),className:"w-full pl-9 pr-4 py-2 bg-app-tertiary border border-app-primary-30 rounded-lg text-sm text-app-primary focus:outline-none focus-border-primary transition-all modal-input-cyberpunk font-mono",placeholder:"SEARCH WALLETS..."})]}),r.jsxs("select",{className:"bg-app-tertiary border border-app-primary-30 rounded-lg px-2 text-sm text-app-primary focus:outline-none focus-border-primary modal-input-cyberpunk font-mono",value:A,onChange:e=>L(e.target.value),children:[r.jsx("option",{value:"address",children:"ADDRESS"}),r.jsx("option",{value:"balance",children:"BALANCE"})]}),r.jsx("button",{className:"p-2 bg-app-tertiary border border-app-primary-30 rounded-lg text-app-secondary hover:color-primary hover-border-primary transition-all modal-btn-cyberpunk",onClick:()=>O("asc"===T?"desc":"asc"),children:"asc"===T?"↑":"↓"})]}),r.jsx("div",{className:"max-h-40 overflow-y-auto border border-app-primary-20 rounded-lg shadow-inner bg-app-tertiary transition-all duration-200 group-hover:border-app-primary-40 scrollbar-thin",children:K(c,E).length>0?K(c,E).map(e=>r.jsxs("div",{className:"flex items-center p-2.5 hover:bg-app-secondary cursor-pointer transition-all duration-200 border-b border-app-primary-20 last:border-b-0\n                                  "+(h===e.address?"bg-primary-10 border-app-primary-30":""),onClick:()=>b(e.address),children:[r.jsx("div",{className:"w-5 h-5 mr-3 rounded flex items-center justify-center transition-all duration-300\n                                        "+(h===e.address?"bg-app-primary-color shadow-md shadow-app-primary-40":"border border-app-primary-30 bg-app-tertiary"),children:h===e.address&&r.jsx(o,{size:14,className:"text-app-primary animate-[fadeIn_0.2s_ease]"})}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsx("span",{className:"font-mono text-sm text-app-primary glitch-text",children:F(e)}),r.jsxs("div",{className:"flex items-center mt-0.5",children:[r.jsx(t,{size:12,className:"text-app-secondary mr-1"}),r.jsxs("span",{className:"text-xs text-app-secondary font-mono",children:[z(W(e.address)||0)," SOL"]})]})]})]},e.id)):r.jsx("div",{className:"p-3 text-sm text-app-secondary text-center font-mono",children:E?"NO WALLETS FOUND":"NO WALLETS AVAILABLE"})}),h&&r.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5 text-xs font-medium pl-1",children:[r.jsx("span",{className:"text-app-secondary font-mono",children:"CURRENT BALANCE:"}),r.jsxs("span",{className:"color-primary font-semibold font-mono",children:[z(W(h)||0)," SOL"]})]})]}),r.jsxs("div",{className:"group mt-5",children:[r.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-app-secondary group-hover:color-primary transition-colors duration-200 font-mono uppercase tracking-wider",children:[r.jsx("span",{className:"color-primary",children:">"})," Amount (SOL) ",r.jsx("span",{className:"color-primary",children:"<"})]}),r.jsxs("div",{className:"relative",onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),children:[r.jsx(l,{size:14,className:"text-app-secondary cursor-help"}),M&&r.jsx("div",{className:"absolute left-0 bottom-full mb-2 p-2 bg-app-tertiary border border-app-primary-30 rounded shadow-lg text-xs text-app-primary w-48 z-10 font-mono",children:"Enter the amount of SOL to deposit"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:f,onChange:e=>{const r=e.target.value;(""===r||/^\d*\.?\d*$/.test(r))&&g(r)},className:"w-full px-4 py-2.5 bg-app-tertiary border border-app-primary-30 rounded-lg text-app-primary shadow-inner focus-border-primary focus:ring-1 focus:ring-primary-50 focus:outline-none transition-all duration-200 modal-input-cyberpunk font-mono tracking-wider",placeholder:"ENTER AMOUNT TO DEPOSIT"}),r.jsx("div",{className:"absolute inset-0 rounded-lg pointer-events-none border border-transparent group-hover:border-app-primary-30 transition-all duration-300"})]}),h&&f&&r.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5 text-xs font-medium pl-1",children:[r.jsx("span",{className:"text-app-secondary font-mono",children:"NEW BALANCE AFTER DEPOSIT:"}),r.jsxs("span",{className:"color-primary font-semibold font-mono",children:[(parseFloat(z(W(h)||0))+parseFloat(f||"0")).toFixed(4)," SOL"]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:i,className:"px-5 py-2.5 text-app-primary bg-app-tertiary border border-app-primary-30 hover:bg-app-secondary hover-border-primary rounded-lg transition-all duration-200 shadow-md font-mono tracking-wider modal-btn-cyberpunk",children:"CANCEL"}),r.jsxs("button",{onClick:()=>w(1),disabled:!u||!h||!f,className:"px-5 py-2.5 text-app-primary rounded-lg shadow-lg flex items-center transition-all duration-300 font-mono tracking-wider \n                            "+(u&&h&&f?"bg-app-primary-color hover:bg-app-primary-dark transform hover:-translate-y-0.5 modal-btn-cyberpunk":"bg-primary-50 cursor-not-allowed opacity-50"),children:[r.jsx("span",{children:"REVIEW"}),r.jsx(d,{size:16,className:"ml-1"})]})]})]}),1===N&&r.jsxs("div",{className:"animate-[fadeIn_0.3s_ease]",children:[r.jsxs("div",{className:"bg-app-tertiary border border-app-primary-30 rounded-lg p-4 mb-5",children:[r.jsx("h3",{className:"text-base font-semibold text-app-primary mb-3 font-mono tracking-wider",children:"TRANSACTION SUMMARY"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"FROM:"}),r.jsx("div",{className:"flex items-center bg-app-secondary px-2 py-1 rounded border border-app-primary-20",children:r.jsx("span",{className:"text-sm font-mono text-app-primary glitch-text",children:D(u)})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"TO WALLET:"}),r.jsx("div",{className:"flex items-center bg-app-secondary px-2 py-1 rounded border border-app-primary-20",children:r.jsx("span",{className:"text-sm font-mono text-app-primary glitch-text",children:D(h)})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"RECIPIENT BALANCE:"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[z(W(h)||0)," SOL"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"YOUR BALANCE:"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[z(_())," SOL"]})]}),r.jsxs("div",{className:"pt-2 border-t border-app-primary-20 flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-app-secondary font-mono",children:"AMOUNT TO DEPOSIT:"}),r.jsxs("span",{className:"text-sm font-semibold color-primary font-mono",children:[parseFloat(f).toFixed(4)," SOL"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"NEW BALANCE:"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[(W(h)+parseFloat(f)).toFixed(4)," SOL"]})]})]})]}),r.jsxs("div",{className:"flex items-center px-3 py-3 bg-app-tertiary rounded-lg border border-app-primary-30 mb-5 cursor-pointer",onClick:()=>S(!k),children:[r.jsxs("div",{className:"relative mx-1",children:[r.jsx("div",{className:"w-5 h-5 border border-app-primary-40 rounded transition-all "+(k?"bg-app-primary-color border-0":"")}),r.jsx(o,{size:14,className:"absolute top-0.5 left-0.5 text-app-primary transition-all "+(k?"opacity-100":"opacity-0")})]}),r.jsx("span",{className:"text-app-primary text-sm ml-2 select-none font-mono",children:"I CONFIRM THIS DEPOSIT TRANSACTION"})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:()=>w(0),className:"px-5 py-2.5 text-app-primary bg-app-tertiary border border-app-primary-30 hover:bg-app-secondary hover-border-primary rounded-lg transition-all duration-200 shadow-md font-mono tracking-wider modal-btn-cyberpunk",children:"BACK"}),r.jsx("button",{onClick:async e=>{if(e.preventDefault(),h&&f&&u&&k)if($())B("Insufficient SOL balance for this transaction","error");else{j(!0);try{const{solana:e}=window;if(!e?.isPhantom)throw new Error("Phantom wallet not found");const r=new te(u),a=new te(h),s=ne.transfer({fromPubkey:r,toPubkey:a,lamports:Math.floor(parseFloat(f)*oe)}),t=await(async()=>{const{blockhash:e}=await x.getLatestBlockhash("finalized");return e})(),n=new ie({recentBlockhash:t,feePayer:r});n.add(s);const o=n.serialize({requireAllSignatures:!1,verifySignatures:!1}),l=le.encode(o);await e.request({method:"signAndSendTransaction",params:{message:l}});B("Transaction sent successfully!","success"),U(),i()}catch(r){B("Deposit failed","error")}finally{j(!1)}}},disabled:!k||v||$(),className:"px-5 py-2.5 rounded-lg shadow-lg flex items-center transition-all duration-300 font-mono tracking-wider\n                            "+(!k||v||$()?"bg-primary-50 text-app-primary-80 cursor-not-allowed opacity-50":"bg-app-primary-color text-app-primary hover:bg-app-primary-dark transform hover:-translate-y-0.5 modal-btn-cyberpunk"),children:v?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-app-primary-80 border-t-transparent animate-spin mr-2"}),"PROCESSING..."]}):$()?"INSUFFICIENT BALANCE":"DEPOSIT SOL"})]})]})]}),r.jsx("div",{className:"absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2 border-app-primary opacity-70"})]})}),document.body)},Pe=({isOpen:c,onClose:p,wallets:m,solBalances:x})=>{const[u,y]=e.useState(0),[h,b]=e.useState(!1),[f,g]=e.useState(!1),{showToast:v}=G(),[j,N]=e.useState([]),[w,k]=e.useState(""),[S,E]=e.useState(""),[C,A]=e.useState(!1),[L,T]=e.useState([]),[O,I]=e.useState(""),[R,M]=e.useState(""),[P,B]=e.useState(!1),[z,D]=e.useState("address"),[W,_]=e.useState("asc"),[$,U]=e.useState("all"),H=e=>x.has(e)?x.get(e):0,Q=()=>!!C&&L.some(e=>j.includes(e.address)&&(!e.amount||0===parseFloat(e.amount))),V=C?L.reduce((e,r)=>e+(parseFloat(r.amount)||0),0):parseFloat(S||"0")*j.length,Y=H(w)||0,X=V<=Y;e.useEffect(()=>{c&&se()},[c]),e.useEffect(()=>{ae()},[j]),e.useEffect(()=>{ae()},[C,S]);const Z=e=>e.toFixed(4),ee=e=>m.find(r=>r.address===e),re=e=>{const r=ee(e);return r?r.privateKey:""},ae=()=>{if(C){const e=new Map(L.map(e=>[e.address,e.amount])),r=j.map(r=>({address:r,amount:e.get(r)||S||""}));T(r)}else{const e=j.map(e=>({address:e,amount:S}));T(e)}},se=()=>{y(0),g(!1),N([]),k(""),E(""),A(!1),T([]),I(""),M(""),D("address"),_("asc"),U("all")},te=e=>{N(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},ne=()=>m.filter(e=>e.address!==w),oe=()=>m.filter(e=>!j.includes(e.address)&&(H(e.address)||0)>0),ie=(e,r)=>{let a=e;return r&&(a=a.filter(e=>e.address.toLowerCase().includes(r.toLowerCase()))),"all"!==$&&("nonZero"===$?a=a.filter(e=>(H(e.address)||0)>0):"highBalance"===$?a=a.filter(e=>(H(e.address)||0)>=.1):"lowBalance"===$&&(a=a.filter(e=>(H(e.address)||0)<.1&&(H(e.address)||0)>0))),a.sort((e,r)=>{if("address"===z)return"asc"===W?e.address.localeCompare(r.address):r.address.localeCompare(e.address);if("balance"===z){const a=H(e.address)||0,s=H(r.address)||0;return"asc"===W?a-s:s-a}return 0})},le=e=>{const r=L.find(r=>r.address===e);return r?r.amount:""};if(!c)return null;const de=document.createElement("style");return de.textContent='\n    @keyframes modal-pulse {\n      0% { box-shadow: 0 0 5px var(--color-primary-50), 0 0 15px var(--color-primary-20); }\n      50% { box-shadow: 0 0 15px var(--color-primary-80), 0 0 25px var(--color-primary-40); }\n      100% { box-shadow: 0 0 5px var(--color-primary-50), 0 0 15px var(--color-primary-20); }\n    }\n    \n    @keyframes modal-fade-in {\n      0% { opacity: 0; }\n      100% { opacity: 1; }\n    }\n    \n    @keyframes modal-slide-up {\n      0% { transform: translateY(20px); opacity: 0; }\n      100% { transform: translateY(0); opacity: 1; }\n    }\n    \n    @keyframes modal-scan-line {\n      0% { transform: translateY(-100%); opacity: 0.3; }\n      100% { transform: translateY(100%); opacity: 0; }\n    }\n    \n    .modal-cyberpunk-container {\n      animation: modal-fade-in 0.3s ease;\n    }\n    \n    .modal-cyberpunk-content {\n      animation: modal-slide-up 0.4s ease;\n      position: relative;\n    }\n    \n    .modal-cyberpunk-content::before {\n      content: "";\n      position: absolute;\n      width: 100%;\n      height: 5px;\n      background: linear-gradient(to bottom, \n        transparent 0%,\n        var(--color-primary-20) 50%,\n        transparent 100%);\n      z-index: 10;\n      animation: modal-scan-line 8s linear infinite;\n      pointer-events: none;\n    }\n    \n    .modal-glow {\n      animation: modal-pulse 4s infinite;\n    }\n    \n    .modal-input-cyberpunk:focus {\n      box-shadow: 0 0 0 1px var(--color-primary-70), 0 0 15px var(--color-primary-50);\n      transition: all 0.3s ease;\n    }\n    \n    .modal-btn-cyberpunk {\n      position: relative;\n      overflow: hidden;\n      transition: all 0.3s ease;\n    }\n    \n    .modal-btn-cyberpunk::after {\n      content: "";\n      position: absolute;\n      top: -50%;\n      left: -50%;\n      width: 200%;\n      height: 200%;\n      background: linear-gradient(\n        to bottom right,\n        var(--color-primary-05) 0%,\n        var(--color-primary-30) 50%,\n        var(--color-primary-05) 100%\n      );\n      transform: rotate(45deg);\n      transition: all 0.5s ease;\n      opacity: 0;\n    }\n    \n    .modal-btn-cyberpunk:hover::after {\n      opacity: 1;\n      transform: rotate(45deg) translate(50%, 50%);\n    }\n    \n    .modal-btn-cyberpunk:active {\n      transform: scale(0.95);\n    }\n    \n    .progress-bar-cyberpunk {\n      position: relative;\n      overflow: hidden;\n    }\n    \n    .progress-bar-cyberpunk::after {\n      content: "";\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: linear-gradient(\n        90deg,\n        transparent 0%,\n        var(--color-primary-70) 50%,\n        transparent 100%\n      );\n      width: 100%;\n      height: 100%;\n      transform: translateX(-100%);\n      animation: progress-shine 3s infinite;\n    }\n    \n    @keyframes progress-shine {\n      0% { transform: translateX(-100%); }\n      20% { transform: translateX(100%); }\n      100% { transform: translateX(100%); }\n    }\n    \n    .glitch-text:hover {\n      text-shadow: 0 0 2px var(--color-primary), 0 0 4px var(--color-primary);\n      animation: glitch 2s infinite;\n    }\n    \n    @keyframes glitch {\n      2%, 8% { transform: translate(-2px, 0) skew(0.3deg); }\n      4%, 6% { transform: translate(2px, 0) skew(-0.3deg); }\n      62%, 68% { transform: translate(0, 0) skew(0.33deg); }\n      64%, 66% { transform: translate(0, 0) skew(-0.33deg); }\n    }\n\n    /* Responsive styles */\n    @media (max-width: 1024px) {\n      .modal-flex-col-lg {\n        flex-direction: column;\n      }\n      .modal-w-full-lg {\n        width: 100%;\n      }\n      .modal-mt-4-lg {\n        margin-top: 1rem;\n      }\n    }\n    \n    @media (max-width: 768px) {\n      .modal-flex-col-md {\n        flex-direction: column;\n      }\n      .modal-w-full-md {\n        width: 100%;\n      }\n      .modal-mt-4-md {\n        margin-top: 1rem;\n      }\n    }\n    \n    @media (max-width: 640px) {\n      .modal-text-xs-sm {\n        font-size: 0.75rem;\n      }\n      .modal-p-3-sm {\n        padding: 0.75rem;\n      }\n      .modal-mx-1-sm {\n        margin-left: 0.25rem;\n        margin-right: 0.25rem;\n      }\n    }\n  ',document.head.appendChild(de),J.createPortal(r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm modal-cyberpunk-container bg-app-primary-85",children:r.jsxs("div",{className:"relative bg-app-primary border border-app-primary-40 rounded-lg shadow-lg w-full max-w-6xl overflow-hidden transform modal-cyberpunk-content modal-glow",children:[r.jsx("div",{className:"absolute inset-0 z-0 opacity-10 bg-cyberpunk-grid"}),r.jsxs("div",{className:"relative z-10 p-4 flex justify-between items-center border-b border-app-primary-40",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-primary-20 mr-3",children:r.jsx(a,{size:16,className:"color-primary"})}),r.jsxs("h2",{className:"text-lg font-semibold text-app-primary font-mono",children:[r.jsx("span",{className:"color-primary",children:"/"})," SOL MIXER ",r.jsx("span",{className:"color-primary",children:"/"})]})]}),r.jsx("button",{onClick:p,className:"text-app-secondary hover:color-primary-light transition-colors p-1 hover:bg-primary-20 rounded",children:r.jsx(s,{size:18})})]}),r.jsx("div",{className:"relative w-full h-1 bg-app-tertiary progress-bar-cyberpunk",children:r.jsx("div",{className:"h-full bg-app-primary-color transition-all duration-300",style:{width:0===u?"50%":"100%"}})}),r.jsxs("div",{className:"relative z-10 p-4 space-y-4",children:[0===u&&r.jsxs("div",{className:"animate-[fadeIn_0.3s_ease]",children:[r.jsxs("div",{className:"flex space-x-4 modal-flex-col-lg",children:[r.jsxs("div",{className:"w-1/2 modal-w-full-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-app-secondary font-mono uppercase tracking-wider",children:[r.jsx("span",{className:"color-primary",children:">"})," From Wallet ",r.jsx("span",{className:"color-primary",children:"<"})]}),w&&r.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[r.jsx(t,{size:10,className:"text-app-secondary"}),r.jsxs("span",{className:"color-primary font-medium font-mono",children:[Z(Y)," SOL"]})]})]}),r.jsxs("div",{className:"mb-2 flex space-x-2",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(n,{size:14,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-app-secondary"}),r.jsx("input",{type:"text",value:R,onChange:e=>M(e.target.value),className:"w-full pl-9 pr-4 py-2 bg-app-tertiary border border-app-primary-30 rounded-lg text-sm text-app-primary focus:outline-none focus-border-primary transition-all modal-input-cyberpunk font-mono",placeholder:"SEARCH SENDER WALLETS..."})]}),r.jsxs("select",{className:"bg-app-tertiary border border-app-primary-30 rounded-lg px-2 text-sm text-app-primary focus:outline-none focus-border-primary modal-input-cyberpunk font-mono",value:z,onChange:e=>D(e.target.value),children:[r.jsx("option",{value:"address",children:"ADDRESS"}),r.jsx("option",{value:"balance",children:"BALANCE"})]}),r.jsx("button",{className:"p-2 bg-app-tertiary border border-app-primary-30 rounded-lg text-app-secondary hover:color-primary-light hover-border-primary transition-all modal-btn-cyberpunk",onClick:()=>_("asc"===W?"desc":"asc"),children:"asc"===W?"↑":"↓"})]}),r.jsx("div",{className:"max-h-48 overflow-y-auto border border-app-primary-20 rounded-lg shadow-inner bg-app-tertiary transition-all duration-200 hover-border-primary-40 scrollbar-thin",children:ie(oe(),R).length>0?ie(oe(),R).map(e=>r.jsxs("div",{className:"flex items-center p-2.5 hover-bg-secondary cursor-pointer transition-all duration-200 border-b border-app-primary-20 last:border-b-0\n                                    "+(w===e.address?"bg-primary-10 border-app-primary-30":""),onClick:()=>k(e.address),children:[r.jsx("div",{className:"w-5 h-5 mr-3 rounded flex items-center justify-center transition-all duration-300\n                                          "+(w===e.address?"bg-app-primary-color shadow-md shadow-app-primary-40":"border border-app-primary-30 bg-app-tertiary"),children:w===e.address&&r.jsx(o,{size:14,className:"text-app-primary animate-[fadeIn_0.2s_ease]"})}),r.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[r.jsx("span",{className:"font-mono text-sm text-app-primary glitch-text",children:F(e)}),r.jsxs("span",{className:"text-xs text-app-secondary font-mono",children:[Z(H(e.address)||0)," SOL"]})]})]},e.id)):r.jsx("div",{className:"p-3 text-sm text-app-secondary text-center font-mono",children:R?"NO WALLETS FOUND":"NO WALLETS AVAILABLE"})})]}),r.jsxs("div",{className:"w-1/2 modal-w-full-lg modal-mt-4-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-app-secondary font-mono uppercase tracking-wider",children:[r.jsx("span",{className:"color-primary",children:">"})," To Wallets ",r.jsx("span",{className:"color-primary",children:"<"})]}),r.jsx("button",{onClick:()=>{j.length===ne().length?N([]):N(ne().map(e=>e.address))},className:"text-xs px-2 py-0.5 bg-app-tertiary hover-bg-secondary text-app-secondary hover:color-primary-light rounded border border-app-primary-30 hover-border-primary transition-all duration-200 font-mono",children:j.length===ne().length?"DESELECT ALL":"SELECT ALL"})]}),r.jsxs("div",{className:"mb-2 flex space-x-2",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(n,{size:14,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-app-secondary"}),r.jsx("input",{type:"text",value:O,onChange:e=>I(e.target.value),className:"w-full pl-9 pr-4 py-2 bg-app-tertiary border border-app-primary-30 rounded-lg text-sm text-app-primary focus:outline-none focus-border-primary transition-all modal-input-cyberpunk font-mono",placeholder:"SEARCH RECIPIENT WALLETS..."})]}),r.jsxs("select",{className:"bg-app-tertiary border border-app-primary-30 rounded-lg px-2 text-sm text-app-primary focus:outline-none focus-border-primary modal-input-cyberpunk font-mono",value:$,onChange:e=>U(e.target.value),children:[r.jsx("option",{value:"all",children:"ALL"}),r.jsx("option",{value:"nonZero",children:"NON-ZERO"}),r.jsx("option",{value:"highBalance",children:"HIGH BAL"}),r.jsx("option",{value:"lowBalance",children:"LOW BAL"})]})]}),r.jsx("div",{className:"max-h-48 overflow-y-auto border border-app-primary-20 rounded-lg shadow-inner bg-app-tertiary transition-all duration-200 hover-border-primary-40 scrollbar-thin",children:ie(ne(),O).length>0?ie(ne(),O).map(e=>r.jsxs("div",{className:"flex items-center p-2.5 hover-bg-secondary transition-all duration-200 border-b border-app-primary-20 last:border-b-0\n                                    "+(j.includes(e.address)?"bg-primary-10 border-app-primary-30":""),children:[r.jsx("div",{className:"w-5 h-5 mr-3 rounded flex items-center justify-center transition-all duration-300 cursor-pointer\n                                        "+(j.includes(e.address)?"bg-app-primary-color shadow-md shadow-app-primary-40":"border border-app-primary-30 bg-app-tertiary"),onClick:()=>te(e.address),children:j.includes(e.address)&&r.jsx(o,{size:14,className:"text-app-primary animate-[fadeIn_0.2s_ease]"})}),r.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[r.jsx("span",{className:"font-mono text-sm text-app-primary cursor-pointer glitch-text",onClick:()=>te(e.address),children:F(e)}),C&&j.includes(e.address)?r.jsxs("div",{className:"relative w-24 ml-2",children:[r.jsx(t,{size:12,className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-app-secondary"}),r.jsx("input",{type:"text",value:le(e.address),onClick:e=>e.stopPropagation(),onChange:r=>{r.stopPropagation();const a=r.target.value;(""===a||/^\d*\.?\d*$/.test(a))&&((e,r)=>{(""===r||/^\d*\.?\d*$/.test(r))&&T(a=>a.map(a=>a.address===e?{...a,amount:r}:a))})(e.address,a)},className:"w-full pl-6 pr-2 py-1 bg-app-secondary border border-app-primary-30 rounded text-xs text-app-primary focus:outline-none focus-border-primary modal-input-cyberpunk font-mono",placeholder:"0.00"})]}):r.jsxs("span",{className:"text-xs text-app-secondary font-mono",children:[Z(H(e.address)||0)," SOL"]})]})]},e.id)):r.jsx("div",{className:"p-3 text-sm text-app-secondary text-center font-mono",children:O?"NO WALLETS FOUND":"NO WALLETS AVAILABLE"})}),r.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs",children:[r.jsxs("span",{className:"text-app-secondary font-mono",children:["SELECTED: ",r.jsx("span",{className:"color-primary font-medium",children:j.length})," WALLETS"]}),j.length>0&&S&&!C&&r.jsxs("span",{className:"text-app-secondary font-mono",children:["EACH RECEIVES: ",r.jsxs("span",{className:"color-primary font-medium",children:[S," SOL"]})]})]})]})]}),r.jsxs("div",{className:"w-full mx-auto mt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2 max-w-md mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(i,{size:14,className:"text-app-secondary"}),r.jsx("span",{className:"text-sm font-medium text-app-secondary font-mono uppercase tracking-wider",children:"Amount Settings"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-xs text-app-secondary mr-2 font-mono",children:"CUSTOM AMOUNT PER WALLET"}),r.jsx("div",{onClick:()=>A(!C),className:"w-10 h-5 rounded-full cursor-pointer transition-all duration-200 flex items-center "+(C?"bg-app-primary-color":"bg-app-tertiary border border-app-primary-30"),children:r.jsx("div",{className:"w-4 h-4 rounded-full bg-app-primary transform transition-all duration-200 "+(C?"translate-x-5":"translate-x-1")})})]})]}),!C&&r.jsxs("div",{className:"flex items-start space-x-4 modal-flex-col-md",children:[r.jsxs("div",{className:"w-1/2 modal-w-full-md",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs("label",{className:"text-sm font-medium text-app-secondary font-mono uppercase tracking-wider",children:[r.jsx("span",{className:"color-primary",children:">"})," Amount per Wallet ",r.jsx("span",{className:"color-primary",children:"<"})]}),r.jsxs("div",{className:"relative",onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1),children:[r.jsx(l,{size:14,className:"text-app-secondary cursor-help"}),P&&r.jsx("div",{className:"absolute left-0 bottom-full mb-2 p-2 bg-app-tertiary border border-app-primary-30 rounded shadow-lg text-xs text-app-primary w-48 z-10 font-mono",children:"This amount will be mixed to each selected recipient wallet"})]})]})}),r.jsxs("div",{className:"relative",children:[r.jsx(t,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-app-secondary"}),r.jsx("input",{type:"text",value:S,onChange:e=>{const r=e.target.value;(""===r||/^\d*\.?\d*$/.test(r))&&E(r)},className:"w-full pl-9 pr-4 py-2.5 bg-app-tertiary border rounded-lg text-app-primary focus:outline-none transition-all duration-200 modal-input-cyberpunk font-mono\n                                    "+(X?"border-app-primary-30 focus-border-primary":"border-error-alt"),placeholder:"0.001"})]})]}),w&&S&&j.length>0&&r.jsxs("div",{className:"w-1/2 bg-app-tertiary rounded-lg p-3 border border-app-primary-30 modal-w-full-md modal-mt-4-md",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"TOTAL TO MIX:"}),r.jsxs("span",{className:"text-sm font-semibold font-mono "+(X?"color-primary":"text-error-alt"),children:[V.toFixed(4)," SOL"]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"REMAINING BALANCE:"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[(Y-V).toFixed(4)," SOL"]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"EACH WALLET RECEIVES:"}),r.jsxs("span",{className:"text-sm color-primary font-mono",children:[S," SOL"]})]})]})]}),C&&j.length>0&&r.jsxs("div",{className:"flex items-start space-x-4 mt-2 modal-flex-col-md",children:[r.jsx("div",{className:"flex-grow modal-w-full-md",children:r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(t,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-app-secondary"}),r.jsx("input",{type:"text",value:S,onChange:e=>{const r=e.target.value;(""===r||/^\d*\.?\d*$/.test(r))&&E(r)},className:"w-full pl-9 pr-4 py-2 bg-app-tertiary border border-app-primary-30 rounded-lg text-sm text-app-primary focus:outline-none focus-border-primary transition-all modal-input-cyberpunk font-mono",placeholder:"SET COMMON AMOUNT"})]}),r.jsx("button",{onClick:()=>{T(e=>e.map(e=>({...e,amount:S})))},disabled:!S,className:"whitespace-nowrap px-3 py-2 text-sm rounded-lg transition-all font-mono border\n                                    "+(S?"bg-app-tertiary hover-bg-secondary text-app-primary border-app-primary-30 hover-border-primary modal-btn-cyberpunk":"bg-app-tertiary text-app-secondary-60 border-app-primary-20 cursor-not-allowed"),children:"APPLY TO ALL"})]})}),w&&V>0&&r.jsxs("div",{className:"w-2/5 bg-app-tertiary rounded-lg p-3 border border-app-primary-30 modal-w-full-md modal-mt-4-md",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"TOTAL TO MIX:"}),r.jsxs("span",{className:"text-sm font-semibold font-mono "+(X?"color-primary":"text-error-alt"),children:[V.toFixed(4)," SOL"]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"REMAINING BALANCE:"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[(Y-V).toFixed(4)," SOL"]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"RECIPIENTS:"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[j.length," WALLETS"]})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:p,className:"px-5 py-2.5 text-app-primary bg-app-tertiary border border-app-primary-30 hover-bg-secondary hover-border-primary rounded-lg transition-all duration-200 shadow-md font-mono tracking-wider modal-btn-cyberpunk",children:"CANCEL"}),r.jsxs("button",{onClick:()=>y(1),disabled:!w||0===j.length||!X||C&&(0===V||Q())||!C&&!S,className:"px-5 py-2.5 rounded-lg shadow-lg flex items-center transition-all duration-300 font-mono tracking-wider text-app-primary\n                            "+(!w||0===j.length||!X||C&&(0===V||Q())||!C&&!S?"bg-primary-50 cursor-not-allowed opacity-50":"bg-app-primary-color hover:bg-app-primary-dark transform hover:-translate-y-0.5 modal-btn-cyberpunk"),children:[Q()&&r.jsx("span",{className:"text-xs mr-2 bg-error-alt-20 text-error-alt px-2 py-0.5 rounded font-mono",children:"MISSING AMOUNTS"}),r.jsx("span",{children:"REVIEW"}),r.jsx(d,{size:16,className:"ml-1"})]})]})]}),1===u&&r.jsxs("div",{className:"flex space-x-4 modal-flex-col-lg animate-[fadeIn_0.3s_ease]",children:[r.jsxs("div",{className:"w-1/2 space-y-4 modal-w-full-lg",children:[r.jsxs("div",{className:"bg-app-tertiary rounded-lg p-4 border border-app-primary-30",children:[r.jsx("h3",{className:"text-base font-semibold text-app-primary mb-3 font-mono tracking-wider",children:"MIXING SUMMARY"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"FROM WALLET:"}),r.jsx("div",{className:"flex items-center bg-app-secondary px-2 py-1 rounded border border-app-primary-20",children:r.jsx("span",{className:"text-sm font-mono text-app-primary glitch-text",children:ee(w)?F(ee(w)):(ce=w,`${ce.substring(0,6)}...${ce.substring(ce.length-4)}`)})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"WALLET BALANCE:"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[Z(Y)," SOL"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"RECIPIENTS:"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[j.length," WALLETS"]})]}),!C&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"AMOUNT PER WALLET:"}),r.jsxs("span",{className:"text-sm color-primary font-medium font-mono",children:[S," SOL"]})]}),C&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"CUSTOM AMOUNTS:"}),r.jsx("span",{className:"text-sm color-primary font-medium font-mono",children:"YES"})]}),r.jsxs("div",{className:"pt-2 border-t border-app-primary-20 flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-app-secondary font-mono",children:"TOTAL TO MIX:"}),r.jsxs("span",{className:"text-sm font-semibold color-primary font-mono",children:[V.toFixed(4)," SOL"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-app-secondary font-mono",children:"REMAINING BALANCE:"}),r.jsxs("span",{className:"text-sm text-app-primary font-mono",children:[(Y-V).toFixed(4)," SOL"]})]})]})]}),r.jsx("div",{className:"flex items-center px-3 py-3 bg-app-tertiary rounded-lg border border-app-primary-30",children:r.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>g(!f),children:[r.jsxs("div",{className:"relative mx-1",children:[r.jsx("div",{className:"w-5 h-5 border border-app-primary-40 rounded peer-checked:bg-app-primary-color peer-checked:border-0 transition-all cursor-pointer",style:{backgroundColor:f?"var(--color-primary)":"transparent",borderColor:f?"var(--color-primary)":"var(--color-primary-40)"}}),r.jsx(o,{size:14,className:"absolute top-0.5 left-0.5 text-app-primary transition-all "+(f?"opacity-100":"opacity-0")})]}),r.jsx("span",{className:"text-app-primary text-sm ml-2 cursor-pointer select-none font-mono",children:"I CONFIRM THIS MIXING OPERATION"})]})})]}),r.jsx("div",{className:"w-1/2 modal-w-full-lg modal-mt-4-lg",children:r.jsxs("div",{className:"bg-app-tertiary rounded-lg p-4 border border-app-primary-30 h-full",children:[r.jsx("h3",{className:"text-base font-semibold text-app-primary mb-3 font-mono tracking-wider",children:"SELECTED RECIPIENTS"}),r.jsx("div",{className:"max-h-64 overflow-y-auto pr-1 scrollbar-thin",children:j.length>0?j.map((e,a)=>{const s=ee(e),t=C?le(e):S;return s?r.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-app-primary-20 last:border-b-0",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("span",{className:"text-app-secondary text-xs mr-2 w-6 font-mono",children:[a+1,"."]}),r.jsx("span",{className:"font-mono text-sm text-app-primary glitch-text",children:F(s)})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs("span",{className:"text-xs text-app-secondary mr-2 font-mono",children:["CURRENT: ",Z(H(s.address)||0)," SOL"]}),r.jsxs("span",{className:"text-xs color-primary font-mono",children:["+",t," SOL"]})]})]},s.id):null}):r.jsx("div",{className:"p-3 text-sm text-app-secondary text-center font-mono",children:"NO RECIPIENTS SELECTED"})})]})})]}),1===u&&r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:()=>y(0),className:"px-5 py-2.5 text-app-primary bg-app-tertiary border border-app-primary-30 hover-bg-secondary hover-border-primary rounded-lg transition-all duration-200 shadow-md font-mono tracking-wider modal-btn-cyberpunk",children:"BACK"}),r.jsx("button",{onClick:async e=>{if(e.preventDefault(),f){b(!0);try{const e=re(w);if(!e)return v("Sender wallet private key not found","error"),void b(!1);const r={address:w,privateKey:e,amount:"0"},a=L.filter(e=>j.includes(e.address)).map(e=>({address:e.address,privateKey:re(e.address),amount:e.amount})).filter(e=>e.privateKey&&e.amount),s=K(r,a,Y);if(!s.valid)return v(s.error||"Invalid mixing data","error"),void b(!1);const t=await q(r,a);t.success?(v("SOL mixed successfully","success"),se(),p()):v(t.error||"Mixing failed","error")}catch(r){v("Mixing failed: "+(r.message||"Unknown error"),"error")}finally{b(!1)}}},disabled:!f||h,className:"px-5 py-2.5 text-app-primary rounded-lg shadow-lg flex items-center transition-all duration-300 font-mono tracking-wider \n                          "+(!f||h?"bg-primary-50 cursor-not-allowed opacity-50":"bg-app-primary-color hover:bg-app-primary-dark transform hover:-translate-y-0.5 modal-btn-cyberpunk"),children:h?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-app-primary-80 border-t-transparent animate-spin mr-2"}),"PROCESSING..."]}):"MIX SOL"})]})]}),r.jsx("div",{className:"absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2 border-app-primary opacity-70"})]})}),document.body);var ce},Be=({wallets:a,solBalances:n,setSolBalances:o,connection:i,tokenBalances:l,tokenAddress:c,handleRefresh:p,isRefreshing:A,showingTokenWallets:L,handleBalanceToggle:T,setWallets:O,sortDirection:I,handleSortWallets:R,setIsModalOpen:M,quickBuyAmount:P=.01,setQuickBuyAmount:B,quickBuyEnabled:z=!0,setQuickBuyEnabled:D,quickBuyMinAmount:F=.01,setQuickBuyMinAmount:W,quickBuyMaxAmount:_=.05,setQuickBuyMaxAmount:$,useQuickBuyRange:U=!1,setUseQuickBuyRange:K,quickSellPercentage:q=100,setQuickSellPercentage:Q,quickSellMinPercentage:V=25,setQuickSellMinPercentage:Y,quickSellMaxPercentage:X=100,setQuickSellMaxPercentage:G,useQuickSellRange:Z=!1,setUseQuickSellRange:ee})=>{const[re,ae]=e.useState(null),[se,te]=e.useState(!1),[ne,oe]=e.useState(!1),[ie,le]=e.useState(!1),[de,ce]=e.useState(P),[pe,me]=e.useState(z),[xe,ue]=e.useState(F),[ye,he]=e.useState(_),[be,fe]=e.useState(U),[ge,ve]=e.useState(q),[je,Ne]=e.useState(V),[we,ke]=e.useState(X),[Se,Ee]=e.useState(Z),Ce=e=>{ae(e),oe(!1)},Ae=()=>{ae(null)},Le=()=>{te(!1)},Te=a.every(e=>e.isActive),Be=[{icon:r.jsx(g,{size:14,className:A?"animate-spin":""}),onClick:p,disabled:A},{icon:L?r.jsx(m,{size:14}):r.jsx(t,{size:14}),onClick:T},{icon:Te?r.jsx(v,{size:14}):r.jsx(j,{size:14}),onClick:()=>{const e=a.every(e=>e.isActive),r=a.map(r=>({...r,isActive:!e}));H(r),O(r)}},{icon:"asc"===I?r.jsx(N,{size:14}):r.jsx(w,{size:14}),onClick:R}],ze=[{icon:r.jsx(k,{size:16}),label:"Manage Wallets",onClick:()=>{M(!0),oe(!1)}},{icon:r.jsx(S,{size:16}),label:"Fund Wallets",onClick:()=>{te(!0),oe(!1)}},{icon:r.jsx(h,{size:16}),label:"Consolidate SOL",onClick:()=>Ce("consolidate")},{icon:r.jsx(E,{size:16}),label:"Transfer Assets",onClick:()=>Ce("transfer")},{icon:r.jsx(C,{size:16}),label:"Deposit SOL",onClick:()=>Ce("deposit")}],De={rest:{scale:1},hover:{scale:1.05},tap:{scale:.95}};return r.jsxs(r.Fragment,{children:[r.jsx(Oe,{isOpen:"distribute"===re,onClose:Ae,wallets:a,solBalances:n,connection:i}),r.jsx(Pe,{isOpen:"mixer"===re,onClose:Ae,wallets:a,solBalances:n,connection:i}),r.jsx(Ie,{isOpen:"consolidate"===re,onClose:Ae,wallets:a,solBalances:n,connection:i}),r.jsx(Re,{isOpen:"transfer"===re,onClose:Ae,wallets:a,solBalances:n,tokenBalances:l,tokenAddress:c,connection:i}),r.jsx(Me,{isOpen:"deposit"===re,onClose:Ae,wallets:a,solBalances:n,setSolBalances:o,connection:i}),se&&J.createPortal(r.jsx(x,{children:r.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-app-overlay flex items-center justify-center z-50",onClick:Le,children:r.jsxs(u.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-app-primary border border-app-primary-30 rounded-lg p-6 max-w-md w-full mx-4",onClick:e=>e.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-lg font-mono color-primary tracking-wider",children:"Fund Wallets"}),r.jsx("button",{onClick:Le,className:"color-primary hover-color-primary-light transition-colors",children:r.jsx(s,{size:20})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(u.button,{variants:De,initial:"rest",whileHover:"hover",whileTap:"tap",onClick:()=>{te(!1),ae("distribute")},className:"w-full flex items-center gap-3 p-4 rounded-md\n                           bg-app-quaternary border border-app-primary-30 hover-border-primary-60\n                           color-primary hover-color-primary-light transition-all duration-300\n                           hover:shadow-md hover:shadow-app-primary-15",children:[r.jsx(y,{size:20}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-mono text-sm tracking-wider",children:"Distribute SOL"}),r.jsx("div",{className:"text-xs text-app-secondary-80 mt-1",children:"Send SOL from main wallet to multiple wallets"})]})]}),r.jsxs(u.button,{variants:De,initial:"rest",whileHover:"hover",whileTap:"tap",onClick:()=>{te(!1),ae("mixer")},className:"w-full flex items-center gap-3 p-4 rounded-md\n                           bg-app-quaternary border border-app-primary-30 hover-border-primary-60\n                           color-primary hover-color-primary-light transition-all duration-300\n                           hover:shadow-md hover:shadow-app-primary-15",children:[r.jsx(h,{size:20}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-mono text-sm tracking-wider",children:"Mixer SOL"}),r.jsx("div",{className:"text-xs text-app-secondary-80 mt-1",children:"Mix SOL between wallets for privacy"})]})]})]})]})})}),document.body),ie&&J.createPortal(r.jsx(x,{children:r.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-app-overlay flex items-center justify-center z-50 p-4",onClick:()=>le(!1),children:r.jsx(u.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-app-primary border border-app-primary-30 rounded-xl p-6 \n                         w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",onClick:e=>e.stopPropagation(),children:r.jsxs("div",{className:"space-y-6",children:[r.jsx(u.div,{className:"transition-all duration-300 "+(pe?"opacity-100":"opacity-40 pointer-events-none"),animate:{opacity:pe?1:.4},children:r.jsxs("div",{className:"bg-app-quaternary border border-app-primary-20 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-mono color-primary font-medium mb-4 flex items-center gap-2",children:[r.jsx(t,{size:16}),"Buy Amount Configuration"]}),r.jsxs("div",{className:"flex items-center gap-3 mb-4 p-3 bg-app-primary border border-app-primary-30 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-mono color-primary text-sm mb-1",children:"Amount Type"}),r.jsx("p",{className:"text-xs text-app-secondary-80",children:be?"Random amounts for natural variation":"Fixed amount for consistency"})]}),r.jsxs("div",{className:"flex bg-app-secondary rounded-lg p-1 border border-app-primary-30",children:[r.jsx("button",{onClick:()=>fe(!1),disabled:!pe,className:"px-3 py-1.5 text-xs font-mono rounded transition-all duration-200 "+(!be&&pe?"bg-app-primary-color text-app-quaternary shadow-md":"color-primary hover-color-primary-light"),children:"Fixed"}),r.jsx("button",{onClick:()=>fe(!0),disabled:!pe,className:"px-3 py-1.5 text-xs font-mono rounded transition-all duration-200 "+(be&&pe?"bg-app-primary-color text-app-quaternary shadow-md":"color-primary hover-color-primary-light"),children:"Range"})]})]}),be?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{min:.1,max:.5,label:"Conservative"},{min:.7,max:1.5,label:"Moderate"},{min:2,max:4,label:"Aggressive"}].map((e,a)=>r.jsxs("button",{onClick:()=>{ue(e.min),he(e.max)},disabled:!pe,className:"py-2 px-3 text-xs font-mono bg-app-primary border border-app-primary-30 \n                                       hover-border-primary-60 rounded-md color-primary hover-color-primary-light \n                                       transition-colors duration-200 disabled:opacity-50",children:[r.jsx("div",{className:"font-medium",children:e.label}),r.jsxs("div",{className:"text-app-secondary-80",children:[e.min,"-",e.max]})]},a))}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-mono color-primary mb-2 flex items-center gap-1",children:[r.jsx("span",{children:"Min Amount"}),r.jsx("span",{className:"text-app-secondary-80 text-xs",children:"(SOL)"})]}),r.jsx("input",{type:"number",step:"0.001",min:"0.001",max:"10",value:xe,onChange:e=>{const r=parseFloat(e.target.value);!isNaN(r)&&r>=.001&&r<=10&&(ue(r),r>=ye&&he(Math.min(r+.01,10)))},disabled:!pe,className:"w-full px-3 py-2 bg-app-primary border border-app-primary-30 rounded-md\n                                       text-app-primary font-mono text-sm focus-border-primary focus:outline-none\n                                       transition-colors duration-200 disabled:opacity-50",placeholder:"0.01"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-mono color-primary mb-2 flex items-center gap-1",children:[r.jsx("span",{children:"Max Amount"}),r.jsx("span",{className:"text-app-secondary-80 text-xs",children:"(SOL)"})]}),r.jsx("input",{type:"number",step:"0.001",min:xe+.001,max:"10",value:ye,onChange:e=>{const r=parseFloat(e.target.value);!isNaN(r)&&r>xe&&r<=10&&he(r)},disabled:!pe,className:"w-full px-3 py-2 bg-app-primary border border-app-primary-30 rounded-md\n                                       text-app-primary font-mono text-sm focus-border-primary focus:outline-none\n                                       transition-colors duration-200 disabled:opacity-50",placeholder:"0.05"})]})]}),r.jsxs("div",{className:"bg-app-primary border border-app-primary-20 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("div",{className:"w-2 h-2 bg-app-primary-color rounded-full animate-pulse"}),r.jsx("span",{className:"text-xs font-mono color-primary",children:"Preview"})]}),r.jsxs("p",{className:"text-xs text-app-secondary-80",children:["Each quick buy will randomly spend between ",r.jsx("span",{className:"color-primary font-mono",children:xe.toFixed(3)})," and ",r.jsx("span",{className:"color-primary font-mono",children:ye.toFixed(3)})," SOL"]})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-4 gap-2",children:[.01,.05,.1,.25].map(e=>r.jsxs("button",{onClick:()=>ce(e),disabled:!pe,className:"py-2 px-2 text-xs font-mono rounded-md transition-colors duration-200 \n                                       border disabled:opacity-50 "+(de===e?"bg-app-primary-color text-app-quaternary border-app-primary-color":"bg-app-primary border-app-primary-30 hover-border-primary-60 color-primary hover-color-primary-light"),children:[e," SOL"]},e))}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-mono color-primary mb-2 flex items-center gap-1",children:[r.jsx("span",{children:"Custom Amount"}),r.jsx("span",{className:"text-app-secondary-80 text-xs",children:"(SOL)"})]}),r.jsx("input",{type:"number",step:"0.001",min:"0.001",max:"10",value:de,onChange:e=>{const r=parseFloat(e.target.value);!isNaN(r)&&r>=.001&&r<=10&&ce(r)},disabled:!pe,className:"w-full px-3 py-2 bg-app-primary border border-app-primary-30 rounded-md\n                                     text-app-primary font-mono text-sm focus-border-primary focus:outline-none\n                                     transition-colors duration-200 disabled:opacity-50",placeholder:"0.01"}),r.jsx("p",{className:"text-xs text-app-secondary-80 mt-2",children:"Fixed amount of SOL to spend on each quick buy"})]})]})]})}),r.jsxs("div",{className:"bg-app-quaternary border border-app-primary-20 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-mono color-primary font-medium mb-4 flex items-center gap-2",children:[r.jsx(h,{size:16}),"Quick Sell Configuration"]}),r.jsxs("div",{className:"flex items-center gap-3 mb-4 p-3 bg-app-primary border border-app-primary-30 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-mono color-primary text-sm mb-1",children:"Percentage Type"}),r.jsx("p",{className:"text-xs text-app-secondary-80",children:Se?"Random percentages for natural variation":"Fixed percentage for consistency"})]}),r.jsxs("div",{className:"flex bg-app-secondary rounded-lg p-1 border border-app-primary-30",children:[r.jsx("button",{onClick:()=>Ee(!1),className:"px-3 py-1.5 text-xs font-mono rounded transition-all duration-200 "+(Se?"color-primary hover-color-primary-light":"bg-app-primary-color text-app-quaternary shadow-md"),children:"Fixed"}),r.jsx("button",{onClick:()=>Ee(!0),className:"px-3 py-1.5 text-xs font-mono rounded transition-all duration-200 "+(Se?"bg-app-primary-color text-app-quaternary shadow-md":"color-primary hover-color-primary-light"),children:"Range"})]})]}),Se?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{min:25,max:50,label:"Conservative"},{min:50,max:75,label:"Moderate"},{min:75,max:100,label:"Aggressive"}].map((e,a)=>r.jsxs("button",{onClick:()=>{Ne(e.min),ke(e.max)},className:"py-2 px-3 text-xs font-mono bg-app-primary border border-app-primary-30 \n                                     hover-border-primary-60 rounded-md color-primary hover-color-primary-light \n                                     transition-colors duration-200",children:[r.jsx("div",{className:"font-medium",children:e.label}),r.jsxs("div",{className:"text-app-secondary-80",children:[e.min,"-",e.max,"%"]})]},a))}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-mono color-primary mb-2 flex items-center gap-1",children:[r.jsx("span",{children:"Min Percentage"}),r.jsx("span",{className:"text-app-secondary-80 text-xs",children:"(%)"})]}),r.jsx("input",{type:"number",step:"5",min:"1",max:"100",value:je,onChange:e=>{const r=parseInt(e.target.value);!isNaN(r)&&r>=1&&r<=100&&(Ne(r),r>=we&&ke(Math.min(r+5,100)))},className:"w-full px-3 py-2 bg-app-primary border border-app-primary-30 rounded-md\n                                     text-app-primary font-mono text-sm focus-border-primary focus:outline-none\n                                     transition-colors duration-200",placeholder:"25"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-mono color-primary mb-2 flex items-center gap-1",children:[r.jsx("span",{children:"Max Percentage"}),r.jsx("span",{className:"text-app-secondary-80 text-xs",children:"(%)"})]}),r.jsx("input",{type:"number",step:"5",min:je+5,max:"100",value:we,onChange:e=>{const r=parseInt(e.target.value);!isNaN(r)&&r>je&&r<=100&&ke(r)},className:"w-full px-3 py-2 bg-app-primary border border-app-primary-30 rounded-md\n                                     text-app-primary font-mono text-sm focus-border-primary focus:outline-none\n                                     transition-colors duration-200",placeholder:"100"})]})]}),r.jsx("div",{className:"bg-app-primary border border-app-primary-30 rounded-lg p-3",children:r.jsxs("p",{className:"text-xs text-app-secondary-80",children:["Each quick sell will randomly sell between ",r.jsxs("span",{className:"color-primary font-mono",children:[je,"%"]})," and ",r.jsxs("span",{className:"color-primary font-mono",children:[we,"%"]})," of token balance"]})})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-4 gap-2",children:[25,50,75,100].map(e=>r.jsxs("button",{onClick:()=>ve(e),className:"py-2 px-2 text-xs font-mono rounded-md transition-colors duration-200 \n                                     border "+(ge===e?"bg-app-primary-color text-app-quaternary border-app-primary-color":"bg-app-primary border-app-primary-30 hover-border-primary-60 color-primary hover-color-primary-light"),children:[e,"%"]},e))}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-mono color-primary mb-2 flex items-center gap-1",children:[r.jsx("span",{children:"Custom Percentage"}),r.jsx("span",{className:"text-app-secondary-80 text-xs",children:"(1-100%)"})]}),r.jsx("input",{type:"number",step:"5",min:"1",max:"100",value:ge,onChange:e=>{const r=parseInt(e.target.value);!isNaN(r)&&r>=1&&r<=100&&ve(r)},className:"w-full px-3 py-2 bg-app-primary border border-app-primary-30 rounded-md\n                                   text-app-primary font-mono text-sm focus-border-primary focus:outline-none\n                                   transition-colors duration-200",placeholder:"100"}),r.jsx("p",{className:"text-xs text-app-secondary-80 mt-2",children:"Fixed percentage of token balance to sell on each quick sell"})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-app-primary-20",children:[r.jsx(u.button,{variants:De,initial:"rest",whileHover:"hover",whileTap:"tap",onClick:()=>le(!1),className:"flex-1 py-3 px-4 rounded-lg border border-app-primary-30\n                             color-primary hover-color-primary-light transition-colors duration-200\n                             font-mono text-sm hover:bg-app-quaternary",children:"Cancel"}),r.jsx(u.button,{variants:De,initial:"rest",whileHover:"hover",whileTap:"tap",onClick:()=>{B&&de>0&&B(de),D&&D(pe),W&&xe>0&&W(xe),$&&ye>0&&$(ye),void 0!==K&&K(be),Q&&ge>=1&&ge<=100&&Q(ge),Y&&je>=1&&je<=100&&Y(je),G&&we>=1&&we<=100&&G(we),void 0!==ee&&ee(Se),le(!1)},disabled:pe&&(be?xe<=0||ye<=0||xe>=ye:de<=0)||(Se?je<=0||we<=0||je>=we:ge<=0),className:"flex-1 py-3 px-4 rounded-lg bg-gradient-to-r from-app-primary-color to-app-primary-light\n                             text-app-quaternary hover:from-app-primary-light hover:to-app-primary-color \n                             disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 \n                             font-mono text-sm shadow-lg disabled:shadow-none",children:"Save Settings"})]})]})})})}),document.body),r.jsx("div",{className:"w-full mb-1 bg-app-primary-80 backdrop-blur-sm rounded-md p-0.5 \n                    border border-app-primary-20",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"flex items-center gap-0.5 flex-1",children:0===a.length?r.jsx(u.button,{variants:De,initial:"rest",whileHover:"hover",whileTap:"tap",onClick:()=>{if(M(!1),"undefined"!=typeof window&&window.dispatchEvent){const e=new CustomEvent("openSettingsWalletsTab");window.dispatchEvent(e)}},className:"flex items-center text-xs font-mono tracking-wider color-primary \n                           hover-color-primary-light px-2 py-1 rounded bg-app-quaternary border \n                           border-app-primary-30 hover-border-primary-60 transition-colors duration-200",children:r.jsx("span",{children:"Start Here >"})}):Be.map((e,a)=>r.jsx(u.button,{variants:De,initial:"rest",whileHover:"hover",whileTap:"tap",onClick:e.onClick,disabled:e.disabled,className:"p-1.5 color-primary hover-color-primary-light disabled:opacity-50 \n                           bg-app-quaternary border border-app-primary-20 hover-border-primary-40 rounded \n                           transition-colors duration-200 flex-shrink-0 flex items-center justify-center",children:r.jsx("span",{children:e.icon})},a))}),r.jsxs("div",{className:"flex items-center gap-0.5",children:[a.length>0&&r.jsxs(u.button,{variants:De,initial:"rest",whileHover:"hover",whileTap:"tap",onClick:()=>{ce(P),me(z),ue(F),he(_),fe(U),ve(q),Ne(V),ke(X),Ee(Z),le(!0),oe(!1)},className:"flex items-center gap-1 px-2 py-1.5 text-xs font-mono tracking-wider\n                         bg-app-quaternary border rounded transition-colors duration-200 "+(z?"color-primary hover-color-primary-light border-app-primary-20 hover-border-primary-40":"color-primary-40 border-app-primary-10 opacity-60"),children:[r.jsx(b,{size:12}),r.jsx("span",{children:z?U?`${F?.toFixed(3)}-${_?.toFixed(3)} SOL`:`${P} SOL`:"OFF"})]}),r.jsx(u.button,{variants:De,initial:"rest",whileHover:"hover",whileTap:"tap",onClick:()=>{oe(e=>!e)},className:"ml-0.5 p-1.5 flex items-center justify-center rounded\n                       bg-gradient-to-r from-app-primary-color to-app-primary-dark \n                       text-app-quaternary hover-from-app-primary-light hover-to-app-primary-color\n                       transition-colors duration-200",children:ne?r.jsx(s,{size:14}):r.jsx(f,{size:14})})]})]})}),r.jsx(x,{children:ne&&r.jsxs(u.div,{variants:{hidden:{y:20,opacity:0,height:0,marginBottom:0},visible:{y:0,opacity:1,height:"auto",marginBottom:12,transition:{type:"spring",stiffness:400,damping:30}}},initial:"hidden",animate:"visible",exit:"hidden",className:"bg-app-primary-80 backdrop-blur-sm rounded-lg overflow-hidden\n                     border border-app-primary-30 shadow-lg shadow-app-primary-10",children:[r.jsxs("div",{className:"p-3",children:[r.jsx("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-app-primary-20",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(u.div,{className:"w-1 h-4 bg-app-primary-color",animate:{height:[4,16,4]},transition:{duration:1.5,repeat:1/0,repeatType:"mirror"}}),r.jsx("span",{className:"text-xs font-mono tracking-wider color-primary uppercase",children:"Wallet Operations"})]})}),r.jsx("div",{className:"flex flex-col space-y-1",children:ze.map((e,a)=>r.jsxs(u.button,{variants:De,initial:"rest",whileHover:"hover",whileTap:"tap",onClick:e.onClick,className:"flex justify-between items-center w-full py-2 px-3 rounded-md\n                             bg-app-quaternary border border-app-primary-30 hover-border-primary-60\n                             color-primary hover-color-primary-light transition-all duration-300\n                             hover:shadow-md hover:shadow-app-primary-15 relative overflow-hidden",children:[r.jsx(u.div,{className:"absolute inset-0 bg-app-primary-color",initial:{opacity:0},whileHover:{opacity:.05}}),r.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[r.jsx("span",{children:e.icon}),r.jsx("span",{className:"text-xs font-mono tracking-wider",children:e.label})]}),r.jsx(d,{size:14,className:"relative z-10 text-app-secondary-80"})]},a))})]}),r.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-transparent via-app-primary-40 to-transparent"})]})})]})},ze=({children:a,content:s,position:t="top"})=>{const[n,o]=e.useState(!1);return r.jsxs("div",{className:"relative inline-block",children:[r.jsx("div",{onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:a}),n&&r.jsx("div",{className:`absolute z-50 ${{top:"bottom-full left-1/2 -translate-x-1/2 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2"}[t]}`,children:r.jsx("div",{className:"bg-app-quaternary cyberpunk-border color-primary text-xs px-2 py-1 rounded shadow-lg whitespace-nowrap",children:s})})]})},De=Object.freeze(Object.defineProperty({__proto__:null,Tooltip:ze,WalletsPage:({wallets:a,setWallets:s,handleRefresh:n,isRefreshing:o,setIsModalOpen:i,tokenAddress:l,sortDirection:d,handleSortWallets:c,connection:p,solBalances:m,setSolBalances:x,tokenBalances:u,setTokenBalances:y,totalSol:h,setTotalSol:f,activeSol:v,setActiveSol:j,totalTokens:N,setTotalTokens:w,activeTokens:k,setActiveTokens:S,quickBuyEnabled:E=!0,setQuickBuyEnabled:C,quickBuyAmount:T=.01,setQuickBuyAmount:O,quickBuyMinAmount:I=.01,setQuickBuyMinAmount:R,quickBuyMaxAmount:M=.05,setQuickBuyMaxAmount:P,useQuickBuyRange:B=!1,setUseQuickBuyRange:z,quickSellPercentage:D=100,setQuickSellPercentage:W,quickSellMinPercentage:_=25,setQuickSellMinPercentage:$,quickSellMaxPercentage:U=100,setQuickSellMaxPercentage:K,useQuickSellRange:q=!1,setUseQuickSellRange:X})=>{const[J,Z]=e.useState(null),[ee,re]=e.useState(!0),[ae,se]=e.useState(null),[te,ne]=e.useState(null),[oe,ie]=e.useState(null),[le,de]=e.useState(new Set),[ce,pe]=e.useState(new Map),[me,xe]=e.useState(new Map),ue=m||ce,ye=u||me,{showToast:he}=G(),be=e.useRef(new Map),fe=e.useRef(new Map);e.useEffect(()=>{const e=be.current,r=fe.current,s=JSON.stringify(Array.from(ue.entries()).sort()),t=JSON.stringify(Array.from(ye.entries()).sort()),n=JSON.stringify(Array.from(e.entries()).sort()),o=JSON.stringify(Array.from(r.entries()).sort());if(s===n&&t===o)return;const i=new Set;a.forEach(a=>{const s=ue.get(a.address)||0,t=ye.get(a.address)||0,n=e.get(a.address)||0,o=r.get(a.address)||0,l=Math.abs(s-n)>.001,d=Math.abs(t-o)>.001;(l||d)&&(n>0||o>0)&&i.add(a.address)}),i.size>0&&(de(i),setTimeout(()=>{de(new Set)},1e3)),be.current=new Map(ue),fe.current=new Map(ye)},[ue,ye]);const je=e.useMemo(()=>Array.from(ue.values()).reduce((e,r)=>e+r,0),[ue]),Ne=e.useMemo(()=>Array.from(ye.values()).reduce((e,r)=>e+r,0),[ye]),we=e.useMemo(()=>a.filter(e=>e.isActive),[a]),ke=e.useMemo(()=>we.reduce((e,r)=>e+(ue.get(r.address)||0),0),[we,ue]),Se=e.useMemo(()=>we.reduce((e,r)=>e+(ye.get(r.address)||0),0),[we,ye]);e.useEffect(()=>{f&&f(je),j&&j(ke),w&&w(Ne),S&&S(Se)},[je,ke,Ne,Se]);const Ee=void 0!==h?h:je,Le=void 0!==N?N:Ne,Te=void 0!==v?v:ke,Oe=void 0!==k?k:Se,Ie=async(e,r)=>{if(r.stopPropagation(),l){if(te!==e.id){ne(e.id);try{let r=T;B&&I&&M&&(r=Math.random()*(M-I)+I,r=Math.round(1e3*r)/1e3);const a={address:e.address,privateKey:e.privateKey},s=(ue.get(e.address)||0)-.01;if(s<=0)return void he("Insufficient SOL balance. Need at least 0.01 SOL for transaction fees","error");r>s&&(r=s,r=Math.round(1e3*r)/1e3);const t=ve({tokenAddress:l,protocol:"auto",solAmount:r}),n=((e,r,a)=>{if(!r.tokenAddress)return{valid:!1,error:"Invalid token address"};if(!r.protocol)return{valid:!1,error:"Protocol is required"};const s=["auto"];if(!s.includes(r.protocol))return{valid:!1,error:`Unsupported protocol: ${r.protocol}. Supported protocols: ${s.join(", ")}`};if(isNaN(r.solAmount)||r.solAmount<=0)return{valid:!1,error:"Invalid SOL amount"};if(r.amounts){if(r.amounts.length!==e.length)return{valid:!1,error:"Custom amounts array length must match wallets array length"};for(const e of r.amounts)if(isNaN(e)||e<=0)return{valid:!1,error:"All custom amounts must be positive numbers"}}if(void 0!==r.slippageBps&&(isNaN(r.slippageBps)||r.slippageBps<0))return{valid:!1,error:"Invalid slippage value"};if(!e.length)return{valid:!1,error:"No wallets provided"};for(const t of e){if(!t.address||!t.privateKey)return{valid:!1,error:"Invalid wallet data"};if((a.get(t.address)||0)<(r.amounts?r.amounts[e.indexOf(t)]:r.solAmount))return{valid:!1,error:`Wallet ${t.address.substring(0,6)}... has insufficient balance`}}return{valid:!0}})([a],t,ue);if(!n.valid)return void he(n.error||"Validation failed","error");const o=await ge([a],t);o.success?he("Quick buy executed successfully!","success"):he(o.error||"Quick buy failed","error")}catch(a){he("Quick buy failed: "+(a instanceof Error?a.message:"Unknown error"),"error")}finally{ne(null)}}}else he("No token address specified","error")},Re=async(e,r)=>{if(r.stopPropagation(),l){if(oe!==e.id){ie(e.id);try{const r={address:e.address,privateKey:e.privateKey};if((ye.get(e.address)||0)<=0)return void he("No tokens to sell in this wallet","error");const a=Ae({tokenAddress:l,protocol:"auto",sellPercent:D}),s=((e,r,a)=>{if(!r.tokenAddress)return{valid:!1,error:"Invalid token address"};if(!r.protocol)return{valid:!1,error:"Protocol is required"};const s=["auto"];if(!s.includes(r.protocol))return{valid:!1,error:`Invalid protocol. Must be one of: ${s.join(", ")}`};const t=void 0!==r.sellPercent&&!isNaN(r.sellPercent),n=void 0!==r.tokensAmount&&!isNaN(r.tokensAmount);if(!t&&!n)return{valid:!1,error:"Either sellPercent or tokensAmount must be provided"};if(t&&n)return{valid:!1,error:"Cannot specify both sellPercent and tokensAmount"};if(t&&(r.sellPercent<=0||r.sellPercent>100))return{valid:!1,error:"Invalid sell percentage (must be between 1-100)"};if(n&&void 0!==r.tokensAmount&&r.tokensAmount<=0)return{valid:!1,error:"Invalid tokens amount (must be greater than 0)"};if("auto"===r.protocol&&void 0!==r.slippageBps&&(isNaN(r.slippageBps)||r.slippageBps<0))return{valid:!1,error:"Invalid slippage value"};if(!e.length)return{valid:!1,error:"No wallets provided"};let o=!1;for(const i of e){if(!i.address||!i.privateKey)return{valid:!1,error:"Invalid wallet data"};const e=a.get(i.address)||0;if("bigint"==typeof e&&e>BigInt(0)||"number"==typeof e&&e>0){o=!0;break}}return o?{valid:!0}:{valid:!1,error:"None of the wallets have any balance of the specified token"}})([r],a,ye);if(!s.valid)return void he(s.error||"Validation failed","error");const t=await Ce([r],a);t.success?he("Quick sell executed successfully!","success"):he(t.error||"Quick sell failed","error")}catch(a){he("Quick sell failed: "+(a instanceof Error?a.message:"Unknown error"),"error")}finally{ie(null)}}}else he("No token address specified","error")};return r.jsxs("div",{className:"flex-1 bg-app-primary relative cyberpunk-bg",children:[r.jsx("div",{className:"absolute top-0 left-0 w-full h-full cyberpunk-scanline pointer-events-none z-1 opacity-30"}),r.jsxs("div",{className:"top-0 sticky bg-app-primary-99 backdrop-blur-sm border-b border-app-primary-40 z-10 shadow-sm",children:[r.jsx("div",{className:"px-2 py-1 border-b border-app-primary-20",children:r.jsx(Be,{wallets:a,solBalances:ue,setSolBalances:x,connection:p,tokenBalances:ye,tokenAddress:l,handleRefresh:async()=>{o||n()},isRefreshing:o,showingTokenWallets:ee,handleBalanceToggle:()=>{re(!ee);const e=((e,r,a,s)=>e.map(e=>({...e,isActive:r?(s.get(e.address)||0)>0:(a.get(e.address)||0)>0&&0===(s.get(e.address)||0)})))(a,!ee,ue,ye);H(e),s(e)},setWallets:s,sortDirection:d,handleSortWallets:c,setIsModalOpen:i,quickBuyAmount:T,setQuickBuyAmount:O,quickBuyEnabled:E,setQuickBuyEnabled:C,quickBuyMinAmount:I,setQuickBuyMinAmount:R,quickBuyMaxAmount:M,setQuickBuyMaxAmount:P,useQuickBuyRange:B,setUseQuickBuyRange:z,quickSellPercentage:D,setQuickSellPercentage:W,quickSellMinPercentage:_,setQuickSellMinPercentage:$,quickSellMaxPercentage:U,setQuickSellMaxPercentage:K,useQuickSellRange:q,setUseQuickSellRange:X})}),r.jsx("div",{className:"py-2 px-3 bg-app-secondary-80-solid relative",children:r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("div",{children:r.jsxs("div",{className:"text-app-secondary font-mono flex items-center gap-2",children:[r.jsx(t,{size:14,className:"color-primary"}),r.jsxs("span",{children:[r.jsx("span",{className:"text-app-primary",children:Ee.toFixed(2)})," (",r.jsx("span",{className:"color-primary",children:Te.toFixed(2)}),") SOL"]})]})}),l&&r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"text-app-secondary font-mono flex items-center justify-end gap-2",children:[r.jsxs("span",{children:[r.jsx("span",{className:"text-app-primary",children:Q(Le)})," (",r.jsx("span",{className:"color-primary",children:Q(Oe)}),") Tokens"]}),r.jsx(A,{size:14,className:"color-primary"})]})})]})})]}),r.jsx("div",{className:"pt-2 relative",children:r.jsx("div",{className:"min-w-full overflow-auto relative",children:r.jsx("table",{className:"w-full border-separate border-spacing-0",children:r.jsx("tbody",{className:"text-sm",children:a.map(e=>r.jsxs("tr",{onClick:()=>{const r=Y(a,e.id);H(r),s(r)},onMouseEnter:()=>se(e.id),onMouseLeave:()=>se(null),className:`\n                    border-b transition-all duration-300 cursor-pointer group\n                    ${e.isActive?"border-app-primary-60 bg-gradient-to-r from-app-primary-20 via-primary-15 to-primary-10 border-l-4 border-l-app-primary shadow-lg shadow-app-primary-20":"border-app-primary-15 hover-border-primary-30"}\n                    ${ae!==e.id||e.isActive?"":"bg-primary-08 border-app-primary-30"}\n                    ${le.has(e.address)?"animate-pulse border-l-2 border-l-success":""}\n\n                  `,children:[r.jsx("td",{className:"py-3 pl-3 pr-1 w-12",children:r.jsx("div",{className:"flex items-center gap-2",children:E&&r.jsx(ze,{content:l?B?`Quick buy random ${I?.toFixed(3)}-${M?.toFixed(3)} SOL (capped to available balance)`:`Quick buy ${T} SOL (capped to available balance)`:"No token selected",position:"right",children:r.jsx("button",{onClick:r=>Ie(e,r),disabled:!l||te===e.id||(ue.get(e.address)||0)<(B&&I||T)+.01,className:`\n                              w-6 h-6 rounded-full transition-all duration-200 flex items-center justify-center\n                              ${!l||(ue.get(e.address)||0)<(B&&I||T)+.01?"bg-app-tertiary border border-app-primary-20 cursor-not-allowed opacity-50":te===e.id?"bg-app-primary-color border border-app-primary-color shadow-lg shadow-app-primary-40 animate-pulse":"bg-primary-30 border border-app-primary-80 hover:bg-app-primary-color hover-border-primary hover:shadow-lg hover:shadow-app-primary-40 cursor-pointer"}\n                            `,children:te===e.id?r.jsx(g,{size:10,className:"text-app-quaternary animate-spin"}):r.jsx(b,{size:10,className:`\n                                ${!l||(ue.get(e.address)||0)<(B&&I||T)+.01?"text-app-primary-40":"text-app-quaternary group-hover:text-app-quaternary"}\n                              `})})})})}),r.jsx("td",{className:"py-3 px-2 font-mono",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsx(ze,{content:"Click to copy",position:"bottom",children:r.jsxs("span",{className:`text-sm font-mono cursor-pointer transition-all duration-300 tracking-wide font-medium\n                            ${e.isActive?"text-success drop-shadow-sm":"text-app-primary hover:color-primary"}\n                          `,onClick:async r=>{r.stopPropagation();await V(e.address,he)&&(Z(e.address),setTimeout(()=>Z(null),2e3))},children:[F(e),J===e.address&&r.jsx("span",{className:"ml-2 text-xs color-primary animate-pulse bg-primary-20 px-1 py-0.5 rounded",children:"✓"})]})})})}),r.jsx("td",{className:"py-3 px-2 text-right font-mono",children:r.jsx("div",{className:"flex items-center justify-end gap-1",children:r.jsx("span",{className:"font-medium transition-colors duration-300 "+(e.isActive?(ue.get(e.address)||0)>0?"text-success":"text-warning":(ue.get(e.address)||0)>0?"text-app-secondary":"text-app-secondary-60"),children:(ue.get(e.address)||0).toFixed(3)})})}),l&&r.jsx("td",{className:"py-3 px-2 text-right font-mono",children:r.jsx("div",{className:"flex items-center justify-end gap-1",children:r.jsx("span",{className:"font-medium transition-colors duration-300 "+(e.isActive?(ye.get(e.address)||0)>0?"text-success":"text-warning-60":(ye.get(e.address)||0)>0?"color-primary":"text-app-primary-40"),children:Q(ye.get(e.address)||0)})})}),r.jsx("td",{className:"py-3 pl-2 pr-3 text-right",children:r.jsx(ze,{content:l?(ye.get(e.address)||0)>0?`Quick sell ${D}% of tokens`:"No tokens to sell":"No token selected",position:"left",children:r.jsx("button",{onClick:r=>Re(e,r),disabled:!l||oe===e.id||(ye.get(e.address)||0)<=0,className:`\n                          w-6 h-6 rounded-full transition-all duration-200 flex items-center justify-center\n                          ${!l||(ye.get(e.address)||0)<=0?"bg-app-tertiary border border-app-primary-20 cursor-not-allowed opacity-50":oe===e.id?"bg-red-500 border border-red-500 shadow-lg shadow-red-400 animate-pulse":"bg-red-400 border border-red-600 hover:bg-red-500 hover:border-red-500 hover:shadow-lg hover:shadow-red-400 cursor-pointer"}\n                        `,children:oe===e.id?r.jsx(g,{size:10,className:"text-white animate-spin"}):r.jsx(L,{size:10,className:`\n                            ${!l||(ye.get(e.address)||0)<=0?"text-app-primary-40":"text-white"}\n                          `})})})})]},e.id))})})})})]})}},Symbol.toStringTag,{value:"Module"})),Fe=({isLoadingChart:a,tokenAddress:s,wallets:t,onDataUpdate:n,onTokenSelect:o,onNonWhitelistedTrade:i})=>{const[l,d]=e.useState(!0),[c,p]=e.useState(Date.now()),[m,y]=e.useState(!1),h=e.useRef(null),b=e.useRef([]),[f,g]=e.useState(null),[v,j]=e.useState(null),[N,w]=e.useState([]),[k,S]=e.useState([]),[E,C]=e.useState([]),[A,L]=e.useState(null);e.useEffect(()=>{if(n){const a=(r=v,(e=A)&&r?1e9*e.tokenPrice*r:null);n({tradingStats:f,solPrice:v,currentWallets:N,recentTrades:E,tokenPrice:A,marketCap:a})}var e,r},[f,v,E,A,n]),e.useEffect(()=>{const e=e=>{switch(e.data.type){case"IFRAME_READY":y(!0),O({type:"TOGGLE_NON_WHITELISTED_TRADES",enabled:!0}),b.current.forEach(e=>{O(e)}),b.current=[];break;case"WALLETS_ADDED":case"WALLETS_CLEARED":break;case"CURRENT_WALLETS":w(e.data.wallets);break;case"WHITELIST_TRADING_STATS":{const r=e.data;g(r.data);break}case"SOL_PRICE_UPDATE":{const r=e.data;j(r.data.solPrice);break}case"WHITELIST_TRADE":{const r=e.data;C(e=>[r.data,...e].slice(0,10));break}case"TOKEN_PRICE_UPDATE":{const r=e.data;L(r.data);break}case"TOKEN_SELECTED":{const r=e.data;o&&o(r.tokenAddress);break}case"NON_WHITELIST_TRADE":{const r=e.data;S(e=>[r.data,...e].slice(0,10)),i?.(r.data);break}}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]);const O=e=>{m&&h.current?h.current.contentWindow?.postMessage(e,"*"):b.current.push(e)};e.useEffect(()=>{if(t&&t.length>0){const e=t.map(e=>({address:e.address,label:F(e)}));O({type:"ADD_WALLETS",wallets:e})}else O({type:"CLEAR_WALLETS"})},[t.map(e=>e.address).join(","),t.length,m]),e.useEffect(()=>{s&&(d(!0),y(!1),g(null),j(null),w([]),C([]),L(null))},[s]);const I=()=>{d(!1)},R={animate:{rotate:360,transition:{duration:1.5,repeat:1/0,ease:"linear"}}};return r.jsxs(u.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5,when:"beforeChildren",staggerChildren:.1}}},initial:"hidden",animate:"visible",className:"relative w-full rounded-lg overflow-hidden h-full md:h-full min-h-[calc(100vh-4rem)] md:min-h-full bg-gradient-to-br from-app-primary to-app-secondary",style:{touchAction:"manipulation",WebkitOverflowScrolling:"touch"},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-app-secondary-80 to-transparent pointer-events-none"}),r.jsx(x,{mode:"wait",children:a?r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsx(u.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},children:r.jsx(T,{size:24,className:"color-primary-light"})})}):r.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"flex flex-1 h-full",children:((e=!0)=>{const t=e?`https://frame.fury.bot/?tokenMint=${s}&theme=${ce.theme.name}`:`https://frame.fury.bot/?theme=${ce.theme.name}`;return r.jsxs("div",{className:"relative flex-1 overflow-hidden iframe-container",children:[(n=l||a,r.jsx(x,{children:n&&r.jsx(u.div,{className:"absolute inset-0 flex flex-col items-center justify-center bg-app-primary-90 z-10",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:r.jsx(u.div,{className:"w-12 h-12 rounded-full border-2 border-t-transparent border-app-primary-30",variants:R,animate:"animate"})})})),r.jsx("div",{className:"absolute inset-0 overflow-hidden",children:r.jsx("iframe",{ref:h,src:t,className:"absolute inset-0 w-full h-full border-0",style:{WebkitOverflowScrolling:"touch",minHeight:"100%"},title:"BetterSkill Frame",loading:"eager",onLoad:I,allow:"fullscreen",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox allow-top-navigation",referrerPolicy:"no-referrer-when-downgrade"},`frame-${c}`)})]});var n})(!!s)},"content")})]})},We=Object.freeze(Object.defineProperty({__proto__:null,ChartPage:Fe,default:Fe},Symbol.toStringTag,{value:"Module"}));function _e(e,r,{checkForDefaultPrevented:a=!0}={}){return function(s){if(e?.(s),!1===a||!s.defaultPrevented)return r?.(s)}}function $e(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function Ue(...e){return r=>{let a=!1;const s=e.map(e=>{const s=$e(e,r);return a||"function"!=typeof s||(a=!0),s});if(a)return()=>{for(let r=0;r<s.length;r++){const a=s[r];"function"==typeof a?a():$e(e[r],null)}}}}function Ke(...r){return e.useCallback(Ue(...r),r)}function qe(...r){const a=r[0];if(1===r.length)return a;const s=()=>{const s=r.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(r){const t=s.reduce((e,{useScope:a,scopeName:s})=>({...e,...a(r)[`__scope${s}`]}),{});return e.useMemo(()=>({[`__scope${a.scopeName}`]:t}),[t])}};return s.scopeName=a.scopeName,s}var He=globalThis?.document?e.useLayoutEffect:()=>{},Qe=O[" useInsertionEffect ".trim().toString()]||He;function Ve({prop:r,defaultProp:a,onChange:s=()=>{},caller:t}){const[n,o,i]=function({defaultProp:r,onChange:a}){const[s,t]=e.useState(r),n=e.useRef(s),o=e.useRef(a);return Qe(()=>{o.current=a},[a]),e.useEffect(()=>{n.current!==s&&(o.current?.(s),n.current=s)},[s,n]),[s,t,o]}({defaultProp:a,onChange:s}),l=void 0!==r,d=l?r:n;{const a=e.useRef(void 0!==r);e.useEffect(()=>{const e=a.current;if(e!==l){}a.current=l},[l,t])}const c=e.useCallback(e=>{if(l){const a=function(e){return"function"==typeof e}(e)?e(r):e;a!==r&&i.current?.(a)}else o(e)},[l,r,o,i]);return[d,c]}function Ye(r){const a=e.forwardRef((r,a)=>{const{children:s,...t}=r;if(e.isValidElement(s)){const r=function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(s),n=function(e,r){const a={...r};for(const s in r){const t=e[s],n=r[s];/^on[A-Z]/.test(s)?t&&n?a[s]=(...e)=>{const r=n(...e);return t(...e),r}:t&&(a[s]=t):"style"===s?a[s]={...t,...n}:"className"===s&&(a[s]=[t,n].filter(Boolean).join(" "))}return{...e,...a}}(t,s.props);return s.type!==e.Fragment&&(n.ref=a?Ue(a,r):r),e.cloneElement(s,n)}return e.Children.count(s)>1?e.Children.only(null):null});return a.displayName=`${r}.SlotClone`,a}var Xe=Symbol("radix.slottable");function Ge(r){return e.isValidElement(r)&&"function"==typeof r.type&&"__radixId"in r.type&&r.type.__radixId===Xe}var Je=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,s)=>{const t=function(a){const s=Ye(a),t=e.forwardRef((a,t)=>{const{children:n,...o}=a,i=e.Children.toArray(n),l=i.find(Ge);if(l){const a=l.props.children,n=i.map(r=>r===l?e.Children.count(a)>1?e.Children.only(null):e.isValidElement(a)?a.props.children:null:r);return r.jsx(s,{...o,ref:t,children:e.isValidElement(a)?e.cloneElement(a,void 0,n):null})}return r.jsx(s,{...o,ref:t,children:n})});return t.displayName=`${a}.Slot`,t}(`Primitive.${s}`),n=e.forwardRef((e,a)=>{const{asChild:n,...o}=e,i=n?t:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),r.jsx(i,{...o,ref:a})});return n.displayName=`Primitive.${s}`,{...a,[s]:n}},{}),Ze="Switch",[er]=function(a,s=[]){let t=[];const n=()=>{const r=t.map(r=>e.createContext(r));return function(s){const t=s?.[a]||r;return e.useMemo(()=>({[`__scope${a}`]:{...s,[a]:t}}),[s,t])}};return n.scopeName=a,[function(s,n){const o=e.createContext(n),i=t.length;t=[...t,n];const l=s=>{const{scope:t,children:n,...l}=s,d=t?.[a]?.[i]||o,c=e.useMemo(()=>l,Object.values(l));return r.jsx(d.Provider,{value:c,children:n})};return l.displayName=s+"Provider",[l,function(r,t){const l=t?.[a]?.[i]||o,d=e.useContext(l);if(d)return d;if(void 0!==n)return n;throw new Error(`\`${r}\` must be used within \`${s}\``)}]},qe(n,...s)]}(Ze),[rr,ar]=er(Ze),sr=e.forwardRef((a,s)=>{const{__scopeSwitch:t,name:n,checked:o,defaultChecked:i,required:l,disabled:d,value:c="on",onCheckedChange:p,form:m,...x}=a,[u,y]=e.useState(null),h=Ke(s,e=>y(e)),b=e.useRef(!1),f=!u||(m||!!u.closest("form")),[g,v]=Ve({prop:o,defaultProp:i??!1,onChange:p,caller:Ze});return r.jsxs(rr,{scope:t,checked:g,disabled:d,children:[r.jsx(Je.button,{type:"button",role:"switch","aria-checked":g,"aria-required":l,"data-state":ir(g),"data-disabled":d?"":void 0,disabled:d,value:c,...x,ref:h,onClick:_e(a.onClick,e=>{v(e=>!e),f&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),f&&r.jsx(or,{control:u,bubbles:!b.current,name:n,value:c,checked:g,required:l,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});sr.displayName=Ze;var tr="SwitchThumb",nr=e.forwardRef((e,a)=>{const{__scopeSwitch:s,...t}=e,n=ar(tr,s);return r.jsx(Je.span,{"data-state":ir(n.checked),"data-disabled":n.disabled?"":void 0,...t,ref:a})});nr.displayName=tr;var or=e.forwardRef(({__scopeSwitch:a,control:s,checked:t,bubbles:n=!0,...o},i)=>{const l=e.useRef(null),d=Ke(l,i),c=function(r){const a=e.useRef({value:r,previous:r});return e.useMemo(()=>(a.current.value!==r&&(a.current.previous=a.current.value,a.current.value=r),a.current.previous),[r])}(t),p=function(r){const[a,s]=e.useState(void 0);return He(()=>{if(r){s({width:r.offsetWidth,height:r.offsetHeight});const e=new ResizeObserver(e=>{if(!Array.isArray(e))return;if(!e.length)return;const a=e[0];let t,n;if("borderBoxSize"in a){const e=a.borderBoxSize,r=Array.isArray(e)?e[0]:e;t=r.inlineSize,n=r.blockSize}else t=r.offsetWidth,n=r.offsetHeight;s({width:t,height:n})});return e.observe(r,{box:"border-box"}),()=>e.unobserve(r)}s(void 0)},[r]),a}(s);return e.useEffect(()=>{const e=l.current;if(!e)return;const r=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(r,"checked").set;if(c!==t&&a){const r=new Event("click",{bubbles:n});a.call(e,t),e.dispatchEvent(r)}},[c,t,n]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:d,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function ir(e){return e?"checked":"unchecked"}or.displayName="SwitchBubbleInput";var lr=sr,dr=nr;const cr=I.forwardRef(({className:e,...a},s)=>r.jsx(lr,{className:`\n      peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full\n      border-2 border-app-primary-40 transition-colors duration-300\n      focus-visible:outline-none focus-visible:ring-2\n      focus-visible:ring-app-primary-color focus-visible:ring-offset-2\n      focus-visible:ring-offset-app-primary disabled:cursor-not-allowed\n      disabled:opacity-50 data-[state=checked]:bg-app-primary-color data-[state=unchecked]:bg-app-secondary\n      relative overflow-hidden ${e}`,...a,ref:s,children:r.jsx(dr,{className:"\n        pointer-events-none block h-5 w-5 rounded-full\n        bg-white shadow-lg ring-0 transition-transform\n        data-[state=checked]:translate-x-5 data-[state=checked]:bg-app-primary\n        data-[state=unchecked]:translate-x-0 data-[state=unchecked]:bg-app-secondary-color"})}));cr.displayName="Switch";const pr=({iframeData:a,tokenAddress:s,tokenBalances:t})=>{const[n,o]=e.useState(!1);if(!s||!a)return null;const{tradingStats:i,solPrice:l,currentWallets:d,recentTrades:c,tokenPrice:p}=a,m=Array.from(t.values()).reduce((e,r)=>e+r,0)*(p?.tokenPrice||0),x=e=>n&&l?(e*l).toFixed(2):e.toFixed(2);return r.jsx("div",{className:"mb-4",children:r.jsxs("div",{onClick:()=>{o(!n)},className:"bg-gradient-to-br from-app-secondary-80 to-app-primary-dark-50 backdrop-blur-sm rounded-xl p-6 shadow-xl border border-app-primary-20 relative overflow-hidden cursor-pointer hover:border-app-primary-40 transition-all duration-300",children:[r.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-app-primary-40 to-transparent"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-app-primary-40 to-transparent"}),r.jsxs("div",{className:"grid grid-cols-4 gap-8 relative z-10",children:[r.jsxs("div",{className:"flex flex-col items-center text-center group",children:[r.jsx("div",{className:"text-xs font-mono tracking-wider text-app-secondary-80 uppercase mb-2 font-medium",children:"Bought"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"text-lg font-bold color-primary font-mono tracking-tight",children:x(i?i.bought:0)}),n?r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",className:"opacity-80 group-hover:opacity-100 transition-opacity",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z",fill:"currentColor"})}):r.jsxs("div",{className:"flex flex-col gap-0.5",children:[r.jsx("div",{className:"w-2 h-0.5 bg-app-primary-color rounded opacity-80 group-hover:opacity-100 transition-opacity"}),r.jsx("div",{className:"w-2 h-0.5 bg-app-primary-color rounded opacity-60 group-hover:opacity-100 transition-opacity"}),r.jsx("div",{className:"w-2 h-0.5 bg-app-primary-color rounded opacity-40 group-hover:opacity-100 transition-opacity"})]})]})]}),r.jsxs("div",{className:"flex flex-col items-center text-center group",children:[r.jsx("div",{className:"text-xs font-mono tracking-wider text-app-secondary-80 uppercase mb-2 font-medium",children:"Sold"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"text-lg font-bold text-warning font-mono tracking-tight",children:x(i?i.sold:0)}),n?r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",className:"opacity-80 group-hover:opacity-100 transition-opacity text-warning",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z",fill:"currentColor"})}):r.jsxs("div",{className:"flex flex-col gap-0.5",children:[r.jsx("div",{className:"w-2 h-0.5 bg-warning rounded opacity-80 group-hover:opacity-100 transition-opacity"}),r.jsx("div",{className:"w-2 h-0.5 bg-warning rounded opacity-60 group-hover:opacity-100 transition-opacity"}),r.jsx("div",{className:"w-2 h-0.5 bg-warning rounded opacity-40 group-hover:opacity-100 transition-opacity"})]})]})]}),r.jsxs("div",{className:"flex flex-col items-center text-center group",children:[r.jsx("div",{className:"text-xs font-mono tracking-wider text-app-secondary-80 uppercase mb-2 font-medium",children:"Holding"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"text-lg font-bold text-app-secondary font-mono tracking-tight",children:x(m)}),n?r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",className:"opacity-80 group-hover:opacity-100 transition-opacity text-app-secondary",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z",fill:"currentColor"})}):r.jsxs("div",{className:"flex flex-col gap-0.5",children:[r.jsx("div",{className:"w-2 h-0.5 bg-app-secondary-color rounded opacity-80 group-hover:opacity-100 transition-opacity"}),r.jsx("div",{className:"w-2 h-0.5 bg-app-secondary-color rounded opacity-60 group-hover:opacity-100 transition-opacity"}),r.jsx("div",{className:"w-2 h-0.5 bg-app-secondary-color rounded opacity-40 group-hover:opacity-100 transition-opacity"})]})]})]}),r.jsxs("div",{className:"flex flex-col items-center text-center group",children:[r.jsx("div",{className:"text-xs font-mono tracking-wider text-app-secondary-80 uppercase mb-2 font-medium",children:"PnL"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"text-lg font-bold font-mono tracking-tight "+(i&&i.net+m>=0?"color-primary":"text-warning"),children:i?r.jsx("div",{children:(()=>{const e=i.net+m;return`${e>=0?"+":"-"}${x(Math.abs(e))}`})()}):r.jsxs("div",{children:["+",x(m)]})}),n?r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",className:"opacity-80 group-hover:opacity-100 transition-opacity "+(i&&i.net+m>=0?"text-app-primary":"text-warning"),children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z",fill:"currentColor"})}):r.jsxs("div",{className:"flex flex-col gap-0.5",children:[r.jsx("div",{className:"w-2 h-0.5 rounded opacity-80 group-hover:opacity-100 transition-opacity "+(i&&i.net+m>=0?"bg-app-primary-color":"bg-warning")}),r.jsx("div",{className:"w-2 h-0.5 rounded opacity-60 group-hover:opacity-100 transition-opacity "+(i&&i.net+m>=0?"bg-app-primary-color":"bg-warning")}),r.jsx("div",{className:"w-2 h-0.5 rounded opacity-40 group-hover:opacity-100 transition-opacity "+(i&&i.net+m>=0?"bg-app-primary-color":"bg-warning")})]})]})]})]}),d&&d.length>0&&r.jsx("div",{className:"mt-8 pt-4 border-t border-app-primary-20",children:r.jsxs("div",{className:"flex items-center justify-center gap-8 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 opacity-60 hover:opacity-100 transition-opacity",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-app-primary-color animate-pulse"}),r.jsxs("span",{className:"text-app-secondary font-mono text-xs tracking-wider",children:[d.length," ACTIVE"]})]}),i&&r.jsxs("div",{className:"flex items-center gap-2 opacity-60 hover:opacity-100 transition-opacity",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-app-primary-color"}),r.jsxs("span",{className:"text-app-secondary font-mono text-xs tracking-wider",children:[i.trades," TRADES"]})]})]})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-app-primary-05 to-transparent pointer-events-none"})]})})},mr=Object.freeze(Object.defineProperty({__proto__:null,ActionsPage:({tokenAddress:a,setTokenAddress:s,transactionFee:t,handleRefresh:n,wallets:o,solBalances:i,tokenBalances:l,currentMarketCap:d,setBurnModalOpen:c,setCalculatePNLModalOpen:p,setDeployModalOpen:m,setCleanerTokensModalOpen:x,setCustomBuyModalOpen:u,onOpenFloating:y,isFloatingCardOpen:h,isAutomateCardOpen:b,setAutomateCardOpen:f,automateCardPosition:g,setAutomateCardPosition:v,isAutomateCardDragging:j,setAutomateCardDragging:N,iframeData:w})=>{const[k,S]=e.useState(""),[E,C]=e.useState(""),[L,T]=e.useState("auto"),[O,I]=e.useState(!1),[P,B]=e.useState(!1),[z,D]=e.useState(null),[F,W]=e.useState(!1),{showToast:_}=G(),[$,U]=e.useState(!0),[K,q]=e.useState("0.01"),[H,Q]=e.useState(!1),V=async(e,r,s,t,n,o)=>{B(!0);const l=o||a;if(!l)return _("Please select a token first","error"),void B(!1);try{const a=s||L,o={tokenAddress:l,...r?{solAmount:parseFloat(t||"0")}:{sellPercent:parseFloat(n||"0")}},d=await Le(0,e,o,r,i);d.success?_(`${a} ${r?"Buy":"Sell"} transactions submitted successfully`,"success"):_(`${a} ${r?"Buy":"Sell"} failed: ${d.error}`,"error")}catch(d){_(`Error: ${d.message}`,"error")}finally{B(!1)}};return e.useEffect(()=>{const e=e=>{if(e.data&&e.data.type,e.data&&"TOKEN_BUY"===e.data.type){const r=e.data.tokenMint||e.data.tokenAddress||e.data.token||e.data.mint;if(r){const e=o.filter(e=>e.isActive);e.length>0?(V(e,!0,"auto",K,void 0,r),_(`Quick buying ${K} SOL of token ${r.substring(0,8)}...`,"success"),H&&s&&setTimeout(()=>{s(r)},1e3)):_("No active wallets for quick buy","error")}else _("Invalid token for quick buy - missing token identifier","error")}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[$,a,K,H,o,V,_,s]),e.useEffect(()=>{const e=setTimeout(()=>{const e=document.querySelector("iframe");e&&e.contentWindow&&!a&&e.contentWindow.postMessage({type:"QUICKBUY_ACTIVATE"},"*")},1e3);return()=>clearTimeout(e)},[a]),r.jsxs("div",{className:"flex-1 overflow-y-auto bg-app-primary p-4 md:p-6 relative",children:[r.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 bg-app-primary opacity-90",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-app-primary-05 to-transparent"}),r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"\n                linear-gradient(rgba(2, 179, 109, 0.05) 1px, transparent 1px),\n                linear-gradient(90deg, rgba(2, 179, 109, 0.05) 1px, transparent 1px)\n              ",backgroundSize:"20px 20px",backgroundPosition:"center center"}})]}),r.jsxs("div",{className:"absolute top-0 left-0 w-32 h-32 opacity-20",children:[r.jsx("div",{className:"absolute top-0 left-0 w-px h-16 bg-gradient-to-b from-app-primary-color to-transparent"}),r.jsx("div",{className:"absolute top-0 left-0 w-16 h-px bg-gradient-to-r from-app-primary-color to-transparent"})]}),r.jsxs("div",{className:"absolute top-0 right-0 w-32 h-32 opacity-20",children:[r.jsx("div",{className:"absolute top-0 right-0 w-px h-16 bg-gradient-to-b from-app-primary-color to-transparent"}),r.jsx("div",{className:"absolute top-0 right-0 w-16 h-px bg-gradient-to-l from-app-primary-color to-transparent"})]}),r.jsxs("div",{className:"absolute bottom-0 left-0 w-32 h-32 opacity-20",children:[r.jsx("div",{className:"absolute bottom-0 left-0 w-px h-16 bg-gradient-to-t from-app-primary-color to-transparent"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-px bg-gradient-to-r from-app-primary-color to-transparent"})]}),r.jsxs("div",{className:"absolute bottom-0 right-0 w-32 h-32 opacity-20",children:[r.jsx("div",{className:"absolute bottom-0 right-0 w-px h-16 bg-gradient-to-t from-app-primary-color to-transparent"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-16 h-px bg-gradient-to-l from-app-primary-color to-transparent"})]})]}),r.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 relative z-10",children:[a?r.jsx(de,{tokenAddress:a,wallets:o,selectedDex:L,setSelectedDex:T,isDropdownOpen:O,setIsDropdownOpen:I,buyAmount:k,setBuyAmount:S,sellAmount:E,setSellAmount:C,handleTradeSubmit:V,isLoading:P,getScriptName:me,countActiveWallets:pe,currentMarketCap:d,tokenBalances:l,onOpenFloating:y,isFloatingCardOpen:h,solPrice:w?.solPrice}):r.jsxs("div",{className:"relative overflow-hidden rounded-xl shadow-xl bg-gradient-to-br from-app-secondary-80 to-app-primary-dark-50 backdrop-blur-sm p-6 border border-app-primary-20",children:[r.jsxs("div",{className:"absolute top-0 left-0 w-24 h-24 pointer-events-none",children:[r.jsx("div",{className:"absolute top-0 left-0 w-px h-8 bg-gradient-to-b from-app-primary-color to-transparent"}),r.jsx("div",{className:"absolute top-0 left-0 w-8 h-px bg-gradient-to-r from-app-primary-color to-transparent"})]}),r.jsxs("div",{className:"absolute top-0 right-0 w-24 h-24 pointer-events-none",children:[r.jsx("div",{className:"absolute top-0 right-0 w-px h-8 bg-gradient-to-b from-app-primary-color to-transparent"}),r.jsx("div",{className:"absolute top-0 right-0 w-8 h-px bg-gradient-to-l from-app-primary-color to-transparent"})]}),r.jsxs("div",{className:"absolute bottom-0 left-0 w-24 h-24 pointer-events-none",children:[r.jsx("div",{className:"absolute bottom-0 left-0 w-px h-8 bg-gradient-to-t from-app-primary-color to-transparent"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-px bg-gradient-to-r from-app-primary-color to-transparent"})]}),r.jsxs("div",{className:"absolute bottom-0 right-0 w-24 h-24 pointer-events-none",children:[r.jsx("div",{className:"absolute bottom-0 right-0 w-px h-8 bg-gradient-to-t from-app-primary-color to-transparent"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-px bg-gradient-to-l from-app-primary-color to-transparent"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between bg-app-primary-60-alpha p-4 rounded-lg border border-app-primary-40 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute top-0 left-0 w-16 h-16 pointer-events-none opacity-60",children:[r.jsx("div",{className:"absolute top-0 left-0 w-px h-4 bg-gradient-to-b from-app-primary-color to-transparent"}),r.jsx("div",{className:"absolute top-0 left-0 w-4 h-px bg-gradient-to-r from-app-primary-color to-transparent"})]}),r.jsxs("div",{className:"absolute top-0 right-0 w-16 h-16 pointer-events-none opacity-60",children:[r.jsx("div",{className:"absolute top-0 right-0 w-px h-4 bg-gradient-to-b from-app-primary-color to-transparent"}),r.jsx("div",{className:"absolute top-0 right-0 w-4 h-px bg-gradient-to-l from-app-primary-color to-transparent"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-app-secondary font-mono text-xs tracking-wide flex items-center",children:[r.jsx("span",{className:"mr-2 text-app-primary-color",children:"⟁"}),r.jsx("span",{children:"AUTO REDIRECT TOKEN"})]}),r.jsx("div",{className:"text-xs text-app-secondary-60 mt-2 ml-5",children:"Redirect to token after buy"})]}),r.jsx(cr,{checked:H,onCheckedChange:Q})]}),r.jsxs("div",{className:"bg-app-primary-60-alpha p-4 rounded-lg border border-app-primary-40 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute top-0 left-0 w-16 h-16 pointer-events-none opacity-60",children:[r.jsx("div",{className:"absolute top-0 left-0 w-px h-4 bg-gradient-to-b from-app-primary-color to-transparent"}),r.jsx("div",{className:"absolute top-0 left-0 w-4 h-px bg-gradient-to-r from-app-primary-color to-transparent"})]}),r.jsxs("div",{className:"absolute top-0 right-0 w-16 h-16 pointer-events-none opacity-60",children:[r.jsx("div",{className:"absolute top-0 right-0 w-px h-4 bg-gradient-to-b from-app-primary-color to-transparent"}),r.jsx("div",{className:"absolute top-0 right-0 w-4 h-px bg-gradient-to-l from-app-primary-color to-transparent"})]}),r.jsxs("div",{className:"text-app-secondary font-mono text-xs tracking-wide mb-3 flex items-center",children:[r.jsx("span",{className:"mr-2 text-app-primary-color",children:"⟁"}),r.jsx("span",{children:"SOL AMOUNT"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",value:K,onChange:e=>q(e.target.value),min:"0.001",step:"0.001",className:"w-full px-2 py-2 bg-app-primary-80-alpha border border-app-primary-40 rounded-lg \n                           text-app-primary placeholder-app-secondary-60 font-mono text-sm \n                           focus:outline-none focus-border-primary focus:ring-1 focus:ring-app-primary-40 \n                           transition-all duration-300 shadow-inner-black-80\n                           disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter SOL amount"}),r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-app-primary-color text-xs font-mono font-bold",children:"SOL"})]})]}),r.jsxs("div",{className:"bg-app-primary-60-alpha p-4 rounded-lg border border-app-primary-40 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute top-0 left-0 w-16 h-16 pointer-events-none opacity-60",children:[r.jsx("div",{className:"absolute top-0 left-0 w-px h-4 bg-gradient-to-b from-app-primary-color to-transparent"}),r.jsx("div",{className:"absolute top-0 left-0 w-4 h-px bg-gradient-to-r from-app-primary-color to-transparent"})]}),r.jsxs("div",{className:"absolute bottom-0 right-0 w-16 h-16 pointer-events-none opacity-60",children:[r.jsx("div",{className:"absolute bottom-0 right-0 w-px h-4 bg-gradient-to-t from-app-primary-color to-transparent"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-px bg-gradient-to-l from-app-primary-color to-transparent"})]}),r.jsxs("div",{className:"text-app-secondary font-mono text-xs tracking-wide mb-3 flex items-center",children:[r.jsx("span",{className:"mr-2 text-app-primary-color",children:"⟁"}),r.jsx("span",{children:"ACTIVE WALLETS"})]}),r.jsxs("div",{className:"text-xs text-app-secondary-60 flex items-center justify-between bg-app-primary-dark p-2 rounded border border-app-primary-40",children:[r.jsx("span",{children:"Wallets selected to buy:"}),r.jsx("span",{className:"text-app-primary-color font-mono font-bold",children:pe(o)})]}),0===pe(o)&&r.jsxs("div",{className:"mt-3 text-warning text-xs font-mono flex items-center bg-app-primary-dark-50 p-2 rounded border border-warning-40",children:[r.jsx("span",{className:"inline-block w-2 h-2 bg-warning rounded-full mr-2 animate-pulse"}),"No active wallets. Enable wallets to use auto-buy."]})]})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-2 bg-gradient-to-br from-app-primary-20 to-app-primary-05 rounded-lg",children:r.jsx(A,{size:16,className:"color-primary"})}),r.jsx("span",{className:"font-mono text-sm tracking-wider text-app-secondary uppercase",children:"Live Data"})]}),r.jsxs("button",{onClick:()=>{a?p(!0):_("Please select a token first","error")},className:"flex items-center gap-2 px-3 py-2 rounded-lg\n                          bg-gradient-to-r from-app-primary-color to-app-primary-dark hover-from-app-primary-dark hover-to-app-primary-color\n                          shadow-md shadow-app-primary-40 hover-shadow-app-primary-60\n                          transition-all duration-300 relative overflow-hidden",children:[r.jsx(R,{size:16,className:"text-black relative z-10"}),r.jsx("span",{className:"text-sm font-mono tracking-wider text-black font-medium relative z-10",children:"Share PNL"})]})]}),r.jsx(pr,{iframeData:w,tokenAddress:a,tokenBalances:l})]})})]}),r.jsx("br",{}),r.jsx("div",{className:"mb-4 mx-auto max-w-4xl",children:r.jsx("a",{href:"https://jewliquid.fun/perp/PERP_ASTER_USDC",target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsxs("div",{className:"bg-gradient-to-br from-app-secondary-50 to-app-primary-dark-50 backdrop-blur-sm \n                       rounded-xl p-6 relative overflow-hidden border border-app-primary-10 \n                       hover-border-primary-60 transition-all duration-300 transform hover:scale-[1.02]\n                       cursor-pointer group",children:[r.jsxs("div",{className:"absolute top-0 left-0 w-24 h-24 pointer-events-none",children:[r.jsx("div",{className:"absolute top-0 left-0 w-px h-8 bg-gradient-to-b from-app-primary-color to-transparent"}),r.jsx("div",{className:"absolute top-0 left-0 w-8 h-px bg-gradient-to-r from-app-primary-color to-transparent"})]}),r.jsxs("div",{className:"absolute bottom-0 right-0 w-24 h-24 pointer-events-none",children:[r.jsx("div",{className:"absolute bottom-0 right-0 w-px h-8 bg-gradient-to-t from-app-primary-color to-transparent"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-px bg-gradient-to-l from-app-primary-color to-transparent"})]}),r.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-app-primary-20 to-app-primary-05 rounded-lg\n                               group-hover:from-app-primary-30 group-hover:to-app-primary-10 transition-all duration-300",children:r.jsx(M,{size:24,className:"color-primary"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-mono tracking-wider text-app-secondary font-semibold mb-1\n                                 group-hover:color-primary transition-colors duration-300",children:"TRADE PERPETUALS"}),r.jsx("div",{className:"text-xs text-app-secondary-60 font-mono",children:"Visit JewLiquid Perp Exchange"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs font-mono color-primary opacity-0 group-hover:opacity-100 \n                               transition-opacity duration-300",children:"CLICK TO TRADE"}),r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",className:"color-primary transform group-hover:translate-x-1 transition-transform duration-300",children:r.jsx("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-app-primary-05 to-transparent \n                           opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]})})})]})},Tooltip:({children:a,content:s,position:t="top"})=>{const[n,o]=e.useState(!1);return r.jsxs("div",{className:"relative inline-block",children:[r.jsx("div",{onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:a}),n&&r.jsx("div",{className:`absolute z-50 ${{top:"bottom-full left-1/2 -translate-x-1/2 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2"}[t]}`,children:r.jsx("div",{className:"bg-app-quaternary border border-app-primary-40 color-primary text-xs px-2 py-1 rounded \n                         shadow-lg shadow-app-primary-20 whitespace-nowrap font-mono tracking-wide",children:s})})]})}},Symbol.toStringTag,{value:"Module"})),xr=Object.freeze(Object.defineProperty({__proto__:null,default:()=>(e.useEffect(()=>{const e=document.createElement("style");return e.textContent='\n      @keyframes desktop-glow {\n        0% { text-shadow: 0 0 4px var(--color-primary-70); }\n        50% { text-shadow: 0 0 8px var(--color-primary-90), 0 0 12px var(--color-primary-50); }\n        100% { text-shadow: 0 0 4px var(--color-primary-70); }\n      }\n      \n      @keyframes desktop-pulse {\n        0% { box-shadow: 0 0 10px var(--color-primary-30), 0 0 20px var(--color-primary-10); }\n        50% { box-shadow: 0 0 20px var(--color-primary-60), 0 0 30px var(--color-primary-30); }\n        100% { box-shadow: 0 0 10px var(--color-primary-30), 0 0 20px var(--color-primary-10); }\n      }\n      \n      @keyframes desktop-scan {\n        0% { transform: translateY(-100%); opacity: 0.3; }\n        100% { transform: translateY(100%); opacity: 0; }\n      }\n      \n      @keyframes desktop-grid {\n        0% { background-position: 0% 0%; }\n        100% { background-position: 20px 20px; }\n      }\n      \n      .desktop-only-grid {\n        background-image: linear-gradient(var(--color-primary-10) 1px, transparent 1px), \n                         linear-gradient(90deg, var(--color-primary-10) 1px, transparent 1px);\n        background-size: 20px 20px;\n        background-position: center center;\n        opacity: 0.2;\n        animation: desktop-grid 20s linear infinite;\n      }\n      \n      .desktop-only-scan::before {\n        content: "";\n        position: absolute;\n        width: 100%;\n        height: 4px;\n        background: linear-gradient(to bottom, \n          transparent 0%,\n          var(--color-primary-30) 50%,\n          transparent 100%);\n        z-index: 10;\n        animation: desktop-scan 6s linear infinite;\n        pointer-events: none;\n      }\n      \n      .desktop-only-glow {\n        animation: desktop-glow 3s infinite;\n      }\n      \n      .desktop-only-pulse {\n        animation: desktop-pulse 4s infinite;\n      }\n    ',document.head.appendChild(e),()=>{document.head.removeChild(e)}},[]),r.jsxs("div",{className:"md:hidden flex flex-col h-[100dvh] max-h-[100dvh] select-none bg-app-primary relative overflow-hidden safe-area-inset",children:[r.jsx("div",{className:"absolute inset-0 desktop-only-grid"}),r.jsx("div",{className:"absolute inset-0 desktop-only-scan"}),r.jsx("div",{className:"flex-1 flex items-center justify-center p-6 relative z-10",children:r.jsxs("div",{className:"text-center max-w-md mx-auto",children:[r.jsx("div",{className:"mb-8 flex justify-center",children:r.jsxs("div",{className:"relative desktop-only-pulse rounded-full p-4 border border-app-primary-40 bg-app-primary",children:[r.jsx(P,{size:48,className:"color-primary desktop-only-glow"}),r.jsx(B,{size:20,className:"absolute -top-1 -right-1 text-warning desktop-only-glow"})]})}),r.jsx("h1",{className:"text-2xl font-bold color-primary mb-4 font-mono tracking-wider desktop-only-glow",children:"DESKTOP REQUIRED"}),r.jsx("p",{className:"text-app-secondary text-lg mb-6 font-mono leading-relaxed",children:"You must use app from a desktop for an enhanced experience"}),r.jsxs("div",{className:"text-app-secondary-80 text-sm font-mono space-y-2",children:[r.jsx("p",{children:"• Advanced trading features"}),r.jsx("p",{children:"• Multi-wallet management"}),r.jsx("p",{children:"• Real-time analytics"}),r.jsx("p",{children:"• Enhanced security protocols"})]}),r.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-app-primary-color desktop-only-pulse"}),r.jsx("div",{className:"w-2 h-2 rounded-full bg-app-primary-color desktop-only-pulse",style:{animationDelay:"0.5s"}}),r.jsx("div",{className:"w-2 h-2 rounded-full bg-app-primary-color desktop-only-pulse",style:{animationDelay:"1s"}})]})]})}),r.jsx("div",{className:"h-1 from-transparent via-app-primary-color to-transparent opacity-60 bg-gradient-to-r"}),r.jsx("div",{className:"absolute top-4 left-4 w-6 h-6 border-t-2 border-l-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 border-t-2 border-r-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 border-b-2 border-l-2 border-app-primary opacity-70"}),r.jsx("div",{className:"absolute bottom-4 right-4 w-6 h-6 border-b-2 border-r-2 border-app-primary opacity-70"})]}))},Symbol.toStringTag,{value:"Module"}));export{mr as A,We as C,xr as M,De as W,ce as b,pe as c,Le as e,me as g,Te as t};
